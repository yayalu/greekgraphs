{"version":3,"sources":["images/legend.png","images/help.png","Header.tsx","Search.tsx","DataCardHandler.ts","EntityGraph.jsx","DataCards.tsx","App.tsx","serviceWorker.ts","index.tsx","images/autochthony.png","images/createdWithoutParents.png","images/createdByAgent.png","images/bornFromObject.png","images/parthenogenesis.png","images/arrow.svg","images/logo.svg"],"names":["module","exports","Header","src","require","alt","style","width","Search","props","pageRedirect","state","redirect","document","getElementById","value","to","targetID","handleSearch","bind","handleSearchKeyDown","getDescriptors","id","this","hasKey","entities","alternatives","ReactGA","event","category","action","currentInput","split","currentInputName","trim","setState","which","keyCode","obj","key","Fragment","margin","textAlign","placeholder","list","onKeyDown","fontSize","maxHeight","Object","values","map","entity","arrow","onClick","className","React","Component","getGender","checkNoRelations","relationships","MOTHERS","length","FATHERS","PARENTS","SIBLINGS","TWIN","SPOUSES","CHILDREN","getNameString","parameter","stringSoFar","s","getName","entityRow","possibleNames","i","undefined","EntityGraph","getRandomPoints","edge","allShapes","forEach","shape","push","attrs","x","y","getDepthNodes","entityData","depthNegOne","depthZero","depthPosOne","m","checkForDuplicates","f","CREATORS","c","unusual","autochthony","tf","bornFromObject","objectID","createdWithoutParents","t","d","child","otherParentIDs","p","splice","Math","ceil","includes","arr","e","getConnectionsList","depthNodes","allConnections","connection","parents","children","pNodeDepth","contestedUnusual","isUnusual","isIncest","concat","createdByAgent","parthenogenesis","cp","isSpouseRepeated","moreParents","BORNFROM","diesWithoutChildren","spo","sib","getAllLinePoints","connections","graphAttr","allLinePoints","nodeWidth","height","nodeHeight","initX","spaceX","linePoints","pX","indexOf","pY","NegOneY","cX","cY","ZeroY","lowerpY","x1","x2","y1","y2","PosOneY","aY","bY","depth","PM_Y","PM_X","pIndex","CM_Y","cIndex","name","toString","type","passage","contested","contestedMothers","contestedFathers","uncontestedParents","incest","involved","cRelationships","JSON","parse","points","slice","sID","repeated","pID","getUnusualExplanation","getUnusualVerb","fontWeight","objects","getOtherUnusualExamples","currentExampleID","allExamples","getUnusualImage","getStageWidth","maxNodesPerDepth","getStageHeight","handleMouseOverNode","body","cursor","target","strokeWidth","handleMouseOutNode","handlePageChange","openInfoPage","relationshipClicked","window","location","reload","handleInTextPageChange","handleMouseOverLine","opacity","isContested","stroke","idSplit","nodeWithID","stageRef","find","pAttrs","ORText","Konva","Text","text","fontStyle","fill","align","add","childGroup","mainEntity","handleMouseOutLine","remove","handleClickedLine","showContestPage","showUnusualPage","showIncestPage","scrollBy","contest","handleClickedIcons","info","lineLinks","getPassageLink","console","log","refs","stage","getStage","each","connectionsList","startID","author","passages","Author","title","Title","start","Passage","end","endID","URN","URNsplit","replace","rel","href","color","outer","inner","out","inn","j","k","AutochthonyIcon","useImage","image","onMouseOver","onMouseOut","CreatedWithoutParentsIcon","CreatedByAgentIcon","BornFromObjectIcon","ParthenogenesisIcon","marginBottom","maxWidth","border","boxShadow","background","padding","getContestedPermutations","position","top","left","marginTop","textDecoration","ref","fontFamily","dash","DataCards","members","sub","super","validSearch","agentID","alternativeName","handleNameClicked","scrollTo","history","grandparents","g","duplicate","duplicateIndex","newPassages","removeGrandparentDuplicates","clear","textTransform","float","paddingRight","relationship","Pluralize","singular","showPassage","firstElement","getPluralization","entityNameAndPassage","objectNameAndPassage","getChildParentGrouped","getOtherParentText","group","member","relation","otherParents","divineParents","entityID","params","queryString","search","newState","display","getAlternativeNames","getAlternativePage","getGrandparentDataPoints","getCollectiveSubheading","keys","getDataPoints","getCollectiveMembers","customStyles","content","right","bottom","marginRight","transform","App","subjectID","open","openModal","closeModal","ID","isOpen","onRequestClose","ariaHideApp","contentLabel","paddingBottom","borderBottom","paddingTop","path","component","Boolean","hostname","match","ReactDOM","render","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.7c4b0f25.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/legend.37c5e084.png\";","module.exports = \"data:image/png;base64,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\"","import React from \"react\";\nimport \"./App.css\";\n\nconst Header: React.FC = () => {\n  return (\n    <img\n      src={require(\"./images/logo.svg\")}\n      alt=\"Manto logo\"\n      style={{ width: \"20%\" }}\n    ></img>\n  );\n};\n\nexport default Header;\n","import React from \"react\";\nimport \"./App.css\";\nimport entities from \"./data/entities.json\";\nimport { Redirect } from \"react-router-dom\";\nimport arrow from \"./images/arrow.svg\";\nimport ReactGA from \"react-ga\";\n\ntype SearchProps = {};\ntype SearchState = {\n  redirect: boolean;\n  targetID: string;\n};\n\nclass Search extends React.Component<SearchProps, SearchState> {\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      redirect: false,\n      targetID: \"\"\n    };\n    // this.onSearchSubmit = this.onSearchSubmit.bind(this);\n    this.handleSearch = this.handleSearch.bind(this);\n    this.handleSearchKeyDown = this.handleSearchKeyDown.bind(this);\n    this.getDescriptors = this.getDescriptors.bind(this);\n  }\n\n  getDescriptors(id: string) {\n    if (this.hasKey(entities, id)) {\n      let alternatives: string = \"\";\n      if (entities[id][\"Name (transliteration)\"] !== \"\") {\n        alternatives =\n          alternatives + \", \" + entities[id][\"Name (transliteration)\"];\n      }\n      if (entities[id][\"Name (Greek font)\"] !== \"\") {\n        alternatives = alternatives + \", \" + entities[id][\"Name (Greek font)\"];\n      }\n      if (entities[id][\"Name (Latinized)\"] !== \"\") {\n        alternatives = alternatives + \", \" + entities[id][\"Name (Latinized)\"];\n      }\n      if (entities[id][\"Name in Latin texts\"] !== \"\") {\n        alternatives =\n          alternatives + \", \" + entities[id][\"Name in Latin texts\"];\n      }\n      if (entities[id][\"Alternative names\"] !== \"\") {\n        alternatives = alternatives + \", \" + entities[id][\"Alternative names\"];\n      }\n      let inputText =\n        entities[id][\"Name (house style)\"] +\n        alternatives +\n        \": \" +\n        entities[id][\"Identifying information\"];\n      return inputText;\n    }\n  }\n\n  pageRedirect = () => {\n    if (this.state.redirect) {\n      let currentInput = document.getElementById(\"input\") as HTMLInputElement;\n      currentInput.value = \"\";\n      return <Redirect to={\"/datacards?id=\" + this.state.targetID} />;\n    }\n  };\n\n  handleSearch() {\n    ReactGA.event({\n      category: \"Search\",\n      action: \"User searched for an entity using the search bar\"\n    });\n    let currentInput = document.getElementById(\"input\") as HTMLInputElement;\n    if (currentInput.value !== \"\") {\n      //Search based on name and identifying information - super inefficient. TODO: fix this\n      for (let id in entities) {\n        if (this.hasKey(entities, id)) {\n          if (\n            entities[id][\"Identifying information\"] ===\n            currentInput.value.split(\": \")[1]\n          ) {\n            let currentInputName = currentInput.value\n              .split(\": \")[0]\n              .split(\",\")[0]\n              .trim();\n\n            if (\n              currentInputName === entities[id][\"Name (house style)\"] ||\n              currentInputName === entities[id][\"Name (transliteration)\"] ||\n              currentInputName === entities[id][\"Name (Greek font)\"] ||\n              currentInputName === entities[id][\"Name (Latinized)\"] ||\n              currentInputName === entities[id][\"Name in Latin texts\"] ||\n              currentInputName === entities[id][\"Alternative names\"]\n            ) {\n              this.setState({\n                redirect: true,\n                targetID: id\n              });\n            }\n          }\n        }\n      }\n    }\n  }\n\n  handleSearchKeyDown(event: any) {\n    if (event.which === 13 || event.keyCode === 13) {\n      this.handleSearch();\n    }\n  }\n\n  /* Addresses typescript indexing objects error */\n  hasKey<O>(obj: O, key: keyof any): key is keyof O {\n    return key in obj;\n  }\n\n  render() {\n    /* const entitiesArray = Object.values(entities).map(entity => {\n      return {\n        // what to show to the user\n        label: entity.ID + \": \" + this.getDescriptors(entity.ID),\n        // key to identify the item within the array\n        key: entity.ID\n      };\n    }); */\n    return (\n      <React.Fragment>\n        {/* <h3 style={{ textAlign: \"center\" }}>SEARCH</h3> */}\n        {this.pageRedirect()}\n        <div\n          style={{\n            margin: \"1rem 0 1rem 0\",\n            textAlign: \"center\"\n          }}\n        >\n          {/* <DataListInput\n          placeholder={\"Search by entity name...\"}\n          items={entitiesArray}\n          onSelect={this.pageRedirect}\n          match={this.matchCurrentInput}\n        /> */}\n          <input\n            // type=\"search\"\n            placeholder=\"Search by name\"\n            id=\"input\"\n            list=\"entities\"\n            onKeyDown={this.handleSearchKeyDown}\n            style={{ width: \"50%\", textAlign: \"center\", fontSize: \"1rem\" }}\n          ></input>\n          <datalist id=\"entities\" style={{ maxHeight: \"100px\" }}>\n            {Object.values(entities).map(entity => {\n              return (\n                <option value={this.getDescriptors(entity[\"ID\"])}></option>\n              );\n            })}\n          </datalist>\n          <div>\n            <img\n              alt=\"Submit search\"\n              src={arrow}\n              onClick={this.handleSearch}\n              className=\"search-arrow\"\n            ></img>\n          </div>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default Search;\n","var ties = require(\"./data/ties.json\");\nvar entities = require(\"./data/entities.json\");\nvar objects = require(\"./data/objects.json\");\nvar relationships = require(\"./data/relationships.json\");\n\ntype passageInfo = {\n  start: string;\n  startID: string;\n  end: string;\n  endID: string;\n};\n\nexport type entityInfo = {\n  target: string;\n  targetID: string;\n  passage: passageInfo[];\n  type: string;\n};\n\ntype childrenInfo = {\n  child: entityInfo[];\n  otherParentIDs: string[];\n  divineParentID?: string;\n};\n\nexport type relationshipInfo = {\n  MOTHERS: entityInfo[];\n  FATHERS: entityInfo[];\n  PARENTS: entityInfo[];\n  CREATORS: entityInfo[];\n  BORNFROM: entityInfo[];\n  SIBLINGS: entityInfo[];\n  TWIN: entityInfo[];\n  SPOUSES: entityInfo[];\n  CHILDREN: childrenInfo[];\n};\n\ntype returningInfo = {\n  id: string;\n  relationships: relationshipInfo;\n  name: string;\n  members: { sub: any[]; super: any[] };\n  type: string;\n  validSearch: boolean;\n  unusual: {\n    autochthony: { tf: boolean; passage: passageInfo[] };\n    createdWithoutParents: { tf: boolean; passage: passageInfo[] };\n    createdByAgent: { tf: boolean; passage: passageInfo[]; agentID: string };\n    parthenogenesis: { tf: boolean; passage: passageInfo[] };\n    bornFromObject: { tf: boolean; passage: passageInfo[]; objectID: string };\n    diesWithoutChildren: { tf: boolean; passage: passageInfo[] };\n  };\n  alternativeName: { targetID: string; passage: passageInfo[] };\n};\n\nlet familyTies = [\n  /* Parent */\n  \"is father of\",\n  \"is mother of\",\n  \"is parent of\",\n  /* Child */\n  \"is child of\",\n  /* Sibling */\n  \"is sibling of\",\n  \"is twin of\",\n  \"is older than\",\n  /* Spouse */\n  \"is spouse of\",\n  \"marries\",\n  /* Ancestors - currently unused\n  \"is grandfather of\",\n  \"is grandmother of\",\n  \"is grandparent of\",\n  \"is grandson of\",\n  \"is granddaughter of\",\n  \"is grandchild of\",\n  */\n\n  /* Member of collective */\n  \"is part of\",\n  \"is member of\",\n\n  /* Unusual relationships */\n  \"is born by autochthony [in/on/at]\",\n  \"comes into being\",\n  \"creates [agent]\",\n  \"is mother by parthenogenesis of\",\n  \"is born from [object]\",\n  \"has no children\"\n];\n\n/******************************************************************************************/\n/* Returns the data card geneology information, interfaces with DataCards.tsx                \n/******************************************************************************************/\nexport const updateComponent = (id: string) => {\n  let connections = getAllConnections(id);\n  if (\n    connections.length > 0 &&\n    connections[0].predicate === \"is alternative name for\"\n  ) {\n    let empty: relationshipInfo = {\n      MOTHERS: [],\n      FATHERS: [],\n      PARENTS: [],\n      CREATORS: [],\n      BORNFROM: [],\n      SIBLINGS: [],\n      TWIN: [],\n      SPOUSES: [],\n      CHILDREN: []\n    };\n    let altNameConnection: returningInfo = {\n      id: id,\n      relationships: empty,\n      name: getName(entities[id]),\n      members: { sub: [], super: [] },\n      type: entities[id] ? entities[id][\"Type of entity\"] : \"\",\n      validSearch: true,\n      alternativeName: {\n        targetID: connections[0].targetID,\n        passage: connections[0].passage\n      },\n      unusual: {\n        autochthony: { tf: false, passage: [] },\n        createdWithoutParents: { tf: false, passage: [] },\n        createdByAgent: { tf: false, passage: [], agentID: \"\" },\n        parthenogenesis: { tf: false, passage: [] },\n        bornFromObject: { tf: false, passage: [], objectID: \"\" },\n        diesWithoutChildren: { tf: false, passage: [] }\n      }\n    };\n    return altNameConnection;\n  } else {\n    return sortConnectionsIntoRelationships(id, connections);\n  }\n};\n\n/******************************************************************************************/\n/* Find all relationships                                                                 */\n/* -------------------------------------------------------------------------------------- */\n/* This function changes all ties (X <predicate> Y, Y <predicate> X, Z <predicate> Y X) to Y <predicate> X. */\n/******************************************************************************************/\nconst getAllConnections = (id: string) => {\n  var connections: {\n    target: string;\n    targetID: string;\n    predicate: string;\n    passage: passageInfo[];\n  }[] = [];\n\n  Object.values(ties).forEach(function(tieRow) {\n    // TODO: Fix this temporary solution for entities not existing in entities.csv\n    if (typeof tieRow !== \"object\" || tieRow === null) {\n    } else {\n      // The first if statement is to remove \"object is of type unknown\" error\n\n      if (entities[tieRow[\"Subject ID\"]]) {\n        //check if the entity is just an \"alternative name for\"\n        //if so, ignore all geneological data gathered so far and just return connections = [{target: \"\", targetID: \"\", predicate: \"is alternative name for\", passage:[]}]\n\n        if (\n          tieRow[\"Subject ID\"] === id &&\n          tieRow[\"Predicate\"] === \"is alternative name for\"\n        ) {\n          let passageInfo: passageInfo[] = [\n            {\n              start: tieRow[\"Passage: start\"],\n              startID: tieRow[\"Passage: start ID\"],\n              end: tieRow[\"Passage: end\"] === \"\" ? \"\" : tieRow[\"Passage: end\"],\n              endID:\n                tieRow[\"Passage: end ID\"] === \"\"\n                  ? \"\"\n                  : tieRow[\"Passage: end ID\"]\n            }\n          ];\n          connections = [\n            {\n              target: \"\",\n              targetID: tieRow[\"Direct Object ID\"],\n              predicate: \"is alternative name for\",\n              passage: passageInfo\n            }\n          ];\n          return connections;\n        }\n\n        /*********************************************************/\n        /* If you are the direct object X, e.g. (Y (predicate) X)     */\n        /*********************************************************/\n        if (\n          tieRow[\"Direct Object ID\"] === id &&\n          familyTies.includes(tieRow[\"Predicate\"])\n        ) {\n          // For mother not including parthenogenesis part\n          let passageInfo: passageInfo[] = [\n            {\n              start: tieRow[\"Passage: start\"],\n              startID: tieRow[\"Passage: start ID\"],\n              end: tieRow[\"Passage: end\"] === \"\" ? \"\" : tieRow[\"Passage: end\"],\n              endID:\n                tieRow[\"Passage: end ID\"] === \"\"\n                  ? \"\"\n                  : tieRow[\"Passage: end ID\"]\n            }\n          ];\n\n          if (\n            getGender(tieRow[\"Subject ID\"]) &&\n            tieRow[\"Predicate\"] === \"marries\"\n          ) {\n            tieRow[\"Predicate\"] = \"is spouse of\";\n          }\n\n          if (\n            tieRow[\"Predicate\"] === \"is part of\" ||\n            tieRow[\"Predicate\"] === \"is member of\"\n          ) {\n            tieRow[\"Predicate\"] = \"has members\";\n          }\n\n          // Unusual relationships X is mother by parthenogenesis of Y, and X creates Y are dealt with here.\n\n          // Push connections to the list of connections\n          connections.push({\n            target: getName(entities[tieRow[\"Subject ID\"]]),\n            targetID: tieRow[\"Subject ID\"],\n            predicate: tieRow[\"Predicate\"],\n            passage: passageInfo\n          });\n        }\n\n        /*********************************************************/\n        /* If you are the subject X, e.g. (X (predicate) Y)           */\n        /*********************************************************/\n        if (\n          tieRow[\"Subject ID\"] === id &&\n          familyTies.includes(tieRow[\"Predicate\"])\n        ) {\n          let passageInfo: passageInfo[] = [\n            {\n              start: tieRow[\"Passage: start\"],\n              startID: tieRow[\"Passage: start ID\"],\n              end: tieRow[\"Passage: end\"] === \"\" ? \"\" : tieRow[\"Passage: end\"],\n              endID: tieRow[\"Passage: end ID\"]\n            }\n          ];\n\n          // Push connections to the list of connections\n          if (\n            tieRow[\"Predicate\"] === \"is born by autochthony [in/on/at]\" ||\n            tieRow[\"Predicate\"] === \"comes into being\" ||\n            tieRow[\"Predicate\"] === \"has no children\"\n          ) {\n            connections.push({\n              target: \"\",\n              targetID: \"\",\n              predicate: tieRow[\"Predicate\"],\n              passage: passageInfo\n            });\n          } else if (tieRow[\"Predicate\"] === \"is born from [object]\") {\n            connections.push({\n              target: getName(objects[tieRow[\"Direct Object ID\"]]),\n              targetID: tieRow[\"Direct Object ID\"],\n              predicate: tieRow[\"Predicate\"],\n              passage: passageInfo\n            });\n          } else {\n            // If collective member\n            connections.push({\n              target: getName(entities[tieRow[\"Direct Object ID\"]]),\n              targetID: tieRow[\"Direct Object ID\"],\n              predicate:\n                tieRow[\"Predicate\"] === \"is part of\" ||\n                tieRow[\"Predicate\"] === \"is member of\"\n                  ? \"is member of\"\n                  : reversedPredicate(\n                      tieRow[\"Predicate\"],\n                      tieRow[\"Direct Object ID\"]\n                    ),\n              passage: passageInfo\n            });\n          }\n        }\n\n        /***********************************************************************/\n        /* For \"Gives in marriage:\" - parent gives child in marriage to person */\n        /*************************************************************************/\n\n        // If you are the indirect object X, e.g. (Z (predicate) Y X)\n        if (\n          tieRow[\"Indirect Object (to/for) ID\"] &&\n          tieRow[\"Indirect Object (to/for) ID\"] === id &&\n          tieRow[\"Predicate\"] === \"gives in marriage [dir. obj.] [ind. obj.]\"\n        ) {\n          let passageInfo: passageInfo[] = [\n            {\n              start: tieRow[\"Passage: start\"],\n              startID: tieRow[\"Passage: start ID\"],\n              end: tieRow[\"Passage: end\"] === \"\" ? \"\" : tieRow[\"Passage: end\"],\n              endID: tieRow[\"Passage: end ID\"]\n            }\n          ];\n          connections.push({\n            target: getName(entities[tieRow[\"Direct Object ID\"]]),\n            targetID: tieRow[\"Direct Object ID\"],\n            predicate: \"is spouse of\",\n            passage: passageInfo\n          });\n        }\n\n        // If you are the direct object X, e.g. (Z (predicate) X Y)\n        else if (\n          tieRow[\"Direct Object ID\"] &&\n          tieRow[\"Direct Object ID\"] === id &&\n          tieRow[\"Predicate\"] === \"gives in marriage [dir. obj.] [ind. obj.]\"\n        ) {\n          let passageInfo: passageInfo[] = [\n            {\n              start: tieRow[\"Passage: start\"],\n              startID: tieRow[\"Passage: start ID\"],\n              end: tieRow[\"Passage: end\"] === \"\" ? \"\" : tieRow[\"Passage: end\"],\n              endID: tieRow[\"Passage: end ID\"]\n            }\n          ];\n          connections.push({\n            target: getName(entities[tieRow[\"Indirect Object (to/for) ID\"]]),\n            targetID: tieRow[\"Indirect Object (to/for) ID\"],\n            predicate: \"is spouse of\",\n            passage: passageInfo\n          });\n        }\n      }\n    }\n  });\n\n  return connections;\n};\n\n/******************************************************************************************/\n/* Sort relationships                                                                     */\n/* -------------------------------------------------------------------------------------- */\n/* This function sorts all of the found connections into existing geneological categories */\n/******************************************************************************************/\nconst sortConnectionsIntoRelationships = (id: string, connections: any) => {\n  /* Preliminary info about the entity */\n  let name = getName(entities[id]);\n  let type = entities[id] ? entities[id][\"Type of entity\"] : \"\";\n  let members: { sub: any[]; super: any[] } = { sub: [], super: [] };\n  let relationships: relationshipInfo = {\n    MOTHERS: [],\n    FATHERS: [],\n    PARENTS: [],\n    CREATORS: [],\n    BORNFROM: [],\n    SIBLINGS: [],\n    TWIN: [],\n    SPOUSES: [],\n    CHILDREN: []\n  };\n  let Oautochthony = { tf: false, passage: [] };\n  let OcreatedWithoutParents = { tf: false, passage: [] };\n  let OcreatedByAgent = { tf: false, passage: [], agentID: \"\" };\n  let Oparthenogenesis = { tf: false, passage: [] };\n  let ObornFromObject = { tf: false, passage: [], objectID: \"\" };\n  let OdiesWithoutChildren = { tf: false, passage: [] };\n\n  let childrenTemp: entityInfo[] = [];\n  connections.forEach(tie => {\n    // For each of the connections already found,\n    // build the associated entity object, and\n    // populate with existing information\n\n    let tieNoY =\n      tie.predicate === \"is born by autochthony [in/or/at]\" ||\n      tie.predicate === \"comes into being\" ||\n      tie.predicate === \"has no children\"\n        ? true\n        : false;\n    // Checking for X (tie) Y where Y does not exist/is empty\n    let d: entityInfo = {\n      target: tieNoY ? \"\" : tie.target,\n      targetID: tieNoY ? \"\" : tie.targetID,\n      passage: tie.passage,\n      type: tieNoY\n        ? \"\"\n        : entities[tie.targetID]\n        ? entities[tie.targetID][\"Type of entity\"]\n        : \"\"\n    };\n\n    /* Categorising the connections, also checking for duplicates */\n\n    // X is your MOTHER\n    if (tie.predicate === \"is mother of\") {\n      // If passage is a duplicate / already exists\n      // for this entity, or  in the list of connections\n      relationships.MOTHERS = checkAndRemoveDuplicates(\n        relationships.MOTHERS,\n        d\n      );\n    }\n\n    // X is your FATHER\n    else if (tie.predicate === \"is father of\") {\n      relationships.FATHERS = checkAndRemoveDuplicates(\n        relationships.FATHERS,\n        d\n      );\n    }\n\n    // X is your PARENT, e.g. gender is unknown (but check gender is unknown first)\n    else if (tie.predicate === \"is parent of\") {\n      if (entities[tie.targetID][\"Agent/Coll.: gender\"] === \"Female\") {\n        relationships.MOTHERS = checkAndRemoveDuplicates(\n          relationships.MOTHERS,\n          d\n        );\n      } else if (entities[tie.targetID][\"Agent/Coll.: gender\"] === \"Male\") {\n        relationships.FATHERS = checkAndRemoveDuplicates(\n          relationships.FATHERS,\n          d\n        );\n      } else {\n        relationships.PARENTS = checkAndRemoveDuplicates(\n          relationships.PARENTS,\n          d\n        );\n      }\n    }\n\n    // X is your CHILD\n    else if (tie.predicate === \"is child of\") {\n      childrenTemp = checkAndRemoveDuplicates(childrenTemp, d);\n    }\n\n    // X is your SIBLING\n    else if (\n      tie.predicate === \"is sibling of\" ||\n      tie.predicate === \"is older than\"\n    ) {\n      relationships.SIBLINGS = checkAndRemoveDuplicates(\n        relationships.SIBLINGS,\n        d\n      );\n    }\n\n    // X is your TWIN\n    else if (tie.predicate === \"is twin of\") {\n      relationships.TWIN = checkAndRemoveDuplicates(relationships.TWIN, d);\n    }\n    // X is your WIFE / HUSBAND\n    else if (tie.predicate === \"is spouse of\" || tie.predicate === \"marries\") {\n      relationships.SPOUSES = checkAndRemoveDuplicates(\n        relationships.SPOUSES,\n        d\n      );\n    }\n    // X is a MEMBER of a collective but the main ID\n    else if (tie.predicate === \"is member of\") {\n      members.super = checkAndRemoveDuplicates(members.super, d);\n    } else if (tie.predicate === \"has members\") {\n      members.sub = checkAndRemoveDuplicates(members.sub, d);\n    }\n\n    /*\n     *\n     *     UNUSUAL RELATIONSHIPS\n     *\n     */\n\n    // X is your MOTHER by <UNUSUAL BIRTH>\n    else if (tie.predicate === \"is born by autochthony [in/on/at]\") {\n      Oautochthony = { tf: true, passage: tie.passage };\n    } else if (tie.predicate === \"comes into being\") {\n      OcreatedWithoutParents = { tf: true, passage: tie.passage };\n    } else if (tie.predicate === \"creates [agent]\") {\n      relationships.CREATORS = checkAndRemoveDuplicates(\n        relationships.CREATORS,\n        d\n      );\n      OcreatedByAgent = {\n        tf: true,\n        passage: tie.passage,\n        agentID: tie.targetID\n      };\n    } else if (tie.predicate === \"is born from [object]\") {\n      relationships.BORNFROM = checkAndRemoveDuplicates(\n        relationships.BORNFROM,\n        d\n      );\n      ObornFromObject = {\n        tf: true,\n        passage: tie.passage,\n        objectID: tie.targetID\n      };\n    } else if (tie.predicate === \"is mother by parthenogenesis of\") {\n      Oparthenogenesis = { tf: true, passage: tie.passage };\n    } else if (tie.predicate === \"is born from\") {\n      ObornFromObject = { tf: true, passage: tie.passage, objectID: \"\" }; //TODO: Add object info here, and import object\n    } else if (tie.predicate === \"has no children\") {\n      OdiesWithoutChildren = { tf: true, passage: tie.passage };\n    }\n  });\n\n  /* TODO: Check for any indirect siblings in the ties */\n  relationships.SIBLINGS = getIndirectSiblings(\n    id,\n    relationships.MOTHERS,\n    relationships.FATHERS,\n    relationships.SIBLINGS\n  );\n\n  /* Alphabetize the relationships */\n  relationships.MOTHERS = alphabetize(relationships.MOTHERS);\n  relationships.FATHERS = alphabetize(relationships.FATHERS);\n  relationships.PARENTS = alphabetize(relationships.PARENTS);\n  relationships.SIBLINGS = alphabetize(relationships.SIBLINGS);\n  relationships.TWIN = alphabetize(relationships.TWIN);\n  relationships.SPOUSES = alphabetize(relationships.SPOUSES);\n  relationships.CREATORS = alphabetize(relationships.CREATORS);\n  relationships.BORNFROM = alphabetize(relationships.BORNFROM);\n  members.super = alphabetize(members.super);\n  members.sub = alphabetize(members.sub);\n  // Currently very inefficient, but finds the other parent of the child\n  relationships.CHILDREN = getOtherParents(id, childrenTemp);\n  // relationships.CHILDREN = alphabetizeChildren(relationships.CHILDREN);\n\n  /* Return alphabetized, complete list of relationships */\n\n  let connection: returningInfo = {\n    id: id,\n    relationships: relationships,\n    name: name,\n    members: members,\n    type: type,\n    validSearch: true,\n    unusual: {\n      autochthony: Oautochthony,\n      createdWithoutParents: OcreatedWithoutParents,\n      createdByAgent: OcreatedByAgent,\n      parthenogenesis: Oparthenogenesis,\n      bornFromObject: ObornFromObject,\n      diesWithoutChildren: OdiesWithoutChildren\n    },\n    alternativeName: { targetID: \"\", passage: [] }\n  };\n  return connection;\n};\n\n/******************************************************************************************/\n/* Check passage and entity duplicates                                                    */\n/* -------------------------------------------------------------------------------------- */\n/* This function removes duplicate ties (incl. after reversal) and duplicate passages   */\n/* for the same connected entity                                                          */\n/******************************************************************************************/\nconst checkAndRemoveDuplicates = (entities: any[], d: entityInfo) => {\n  let duplicate = false;\n  entities.forEach(e => {\n    if (e.targetID === d.targetID) {\n      duplicate = true;\n      let passageDuplicate = false;\n      e.passage.forEach(p => {\n        if (\n          p.startID === d.passage[0].startID &&\n          p.endID === d.passage[0].endID\n        ) {\n          passageDuplicate = true;\n        }\n      });\n      if (!passageDuplicate) {\n        e.passage.push(d.passage[0]);\n      }\n    }\n  });\n  if (!duplicate) {\n    entities.push(d);\n  }\n  return entities;\n};\n\nconst checkAndRemoveParentDuplicates = (\n  child: entityInfo, //child to add\n  parentsList: string[], //list of child's parents\n  parentsGrouped: childrenInfo[] //existing parents list to update\n) => {\n  // This function removes duplicates but also groups children by the \"other\" parent\n  // returns childrenInfo object: {child: <list of associated children>, otherParentIDs}\n\n  // If the same child appears under two different \"otherParent\"s, then contest is expressed\n  // The child will be under {child: <list of children>, otherParents: <list of all parents + contested>}\n  let parentDuplicate = false;\n  let childDuplicate = false;\n\n  for (let i = 0; i < parentsGrouped.length; i++) {\n    if (isEqual(parentsList, parentsGrouped[i])) {\n      // Is parent duplicate. Now check if child is already in list.\n      parentDuplicate = true;\n      for (let j = 0; j < parentsGrouped[i].child.length; j++) {\n        if (parentsGrouped[i].child[j].targetID === child.targetID) {\n          childDuplicate = true;\n        }\n      }\n      if (!childDuplicate) {\n        parentsGrouped[i].child.push(child);\n      }\n    }\n  }\n\n  if (!childDuplicate && !parentDuplicate) {\n    let newChild: childrenInfo = {\n      child: [child],\n      otherParentIDs: parentsList\n    };\n    parentsGrouped.push(newChild);\n  }\n\n  return parentsGrouped;\n};\n\n/******************************************************************************************/\n/* Alphabetize the list of names in each category                                         */\n/******************************************************************************************/\nconst alphabetize = (relation: any[]) => {\n  if (relation.length === 0) {\n    return [];\n  } else {\n    relation.sort(function(a, b) {\n      var relationA = a.target.toUpperCase();\n      var relationB = b.target.toUpperCase();\n      return relationA < relationB ? -1 : relationA > relationB ? 1 : 0;\n    });\n  }\n  return relation;\n};\n\nconst alphabetizeIDs = (relation: any[]) => {\n  if (relation.length === 0) {\n    return [];\n  } else {\n    relation.sort(function(a, b) {\n      var relationA = a.targetID;\n      var relationB = b.targetID;\n      return relationA < relationB ? -1 : relationA > relationB ? 1 : 0;\n    });\n  }\n  return relation;\n};\n\n/******************************************************************************************/\n/* Check if two arrays are equal                                                          */\n/******************************************************************************************/\nconst isEqual = (parentsList: any[], child: childrenInfo) => {\n  if (parentsList.length !== child.otherParentIDs.length) {\n    return false;\n  } else {\n    for (let i = 0; i < parentsList.length; i++) {\n      if (parentsList[i] !== child.otherParentIDs[i]) {\n        return false;\n      }\n    }\n    return true;\n  }\n};\n\n/******************************************************************************************/\n/* TODO: Fix this very VERY inefficient method of finding the other parent.               */\n/* Swap for shared NodegoatID                                                             */\n/******************************************************************************************/\nconst getOtherParents = (id: string, children: entityInfo[]) => {\n  let mainGender = getGender(id);\n  let parentsGrouped: childrenInfo[] = [];\n  children.forEach(c => {\n    if (relationships[c.targetID] !== undefined) {\n      var parentsList;\n      if (mainGender === \"Female\") {\n        parentsList = JSON.parse(relationships[c.targetID]).relationships\n          .FATHERS;\n      } else {\n        //temporary solution to undefined gender\n        parentsList = JSON.parse(relationships[c.targetID]).relationships\n          .MOTHERS;\n      }\n      // Convert list of entityInfo to a list of IDs\n      for (let i = 0; i < parentsList.length; i++) {\n        parentsList[i] = parentsList[i].targetID;\n      }\n      parentsList = alphabetizeIDs(parentsList);\n      parentsGrouped = checkAndRemoveParentDuplicates(\n        c,\n        parentsList,\n        parentsGrouped\n      );\n    }\n  });\n  return parentsGrouped;\n};\n\n/******************************************************************************************/\n/* Get the gender of the entity                                                           */\n/******************************************************************************************/\nexport const getGender = (id: string) => {\n  return entities[id] ? entities[id][\"Agent/Coll.: gender\"] : \"\";\n};\n\n/******************************************************************************************/\n/* Tie reversals                                                   */\n/* -------------------------------------------------------------------------------------- */\n/* This function flips the predicate so that X can become the direct object,                   */\n/* without compromising the validity of the tie                                         */\n/*                                                                                        */\n/* e.g. X <is mother of> Y, where Y is <male>                                             */\n/* => returns predicate <is son of>, to let X become the direct object (Y is son of X)         */\n/******************************************************************************************/\nconst reversedPredicate = (predicate: string, dirObject: string) => {\n  // TODO: Fix this temporary solution for gender data not existing for entity\n  // PARENT -> CHILD\n  if (predicate === \"is parent of\") {\n    // Uses generic \"is child of\" since data cards do not show gender specificity for children\n    return \"is child of\";\n  }\n\n  // CHILD -> PARENT\n  else if (predicate === \"is child of\") {\n    if (getGender(dirObject) === \"Female\") {\n      return \"is mother of\";\n    } else if (getGender(dirObject) === \"Male\") {\n      return \"is father of\";\n    } else {\n      // Placeholder since \"is parent of\" is not currently used in data cards\n      return \"\";\n    }\n  }\n\n  // TWIN -> TWIN\n  else if (predicate === \"is twin of\") {\n    return \"is twin of\";\n  }\n\n  // SIBLING -> SIBLING\n  else if (predicate === \"is sibling of\" || predicate === \"is older than\") {\n    return \"is sibling of\";\n  }\n\n  // WIFE -> HUSBAND\n  // HUSBAND -> WIFE\n  // No cases of homosexual relationships in the mythology\n  else if (predicate === \"is spouse of\" || predicate === \"marries\") {\n    return \"is spouse of\";\n  } else if (predicate === \"is member of\" || predicate === \"is part of\") {\n    return \"\";\n  } else {\n    console.log(\n      \"Unsure of \" +\n        predicate +\n        \" \" +\n        dirObject +\n        \" connection, or connection is not relevant for the datacards.\",\n      predicate,\n      dirObject\n    );\n    return \"\";\n  }\n};\n\n/******************************************************************************************/\n/* Populate an array of siblings based on matching parents                                */\n/* -------------------------------------------------------------------------------------- */\n/* This function checks through the list of ties and pushes to the list of siblings:    */\n/*                                                                                        */\n/* e.g. X is <child> of A, X is <child> of B, Y is <child> of A, Y is <child> of B        */\n/******************************************************************************************/\nconst getIndirectSiblings = (\n  id: string,\n  mothers: any[],\n  fathers: any[],\n  siblings: any[]\n) => {\n  // CURRENTLY A VERY SLOW SOLUTION - OPTIMIZE IT LATER\n  // CHANGE TO POPULATING A DATABASE OF RELATIONS AND READING OFF THAT DATABASE\n  // RATHER THAN DYNAMICALLY GENERATING IT HERE (CHANGE TO O(N) NOT LEAVE AS O(N^3))\n  // ALTERNATIVELY: Use Nodegoat ID to determine those in the same datum ID, and then match those\n\n  let newsiblings: {} = {};\n  Object.values(ties).forEach(function(tieRow) {\n    if (typeof tieRow !== \"object\" || tieRow === null) {\n    } else {\n      let testsibling = {\n        motherMatch: false,\n        fatherMatch: false,\n        info: {}\n      };\n      let passageInfo: passageInfo[] = [\n        {\n          start: tieRow[\"Passage: start\"],\n          startID: tieRow[\"Passage: start ID\"],\n          end: tieRow[\"Passage: end\"] === \"\" ? \"\" : tieRow[\"Passage: end\"],\n          endID: tieRow[\"Passage: end ID\"]\n        }\n      ];\n      let testinfo: entityInfo = {\n        target: \"\",\n        targetID: \"\",\n        passage: passageInfo,\n        type: entities[id] ? entities[id][\"Type of entity\"] : \"\"\n      };\n      // Firstly, determine where Y is <child> of A,B\n      if (\n        tieRow[\"Predicate\"] === \"is daughter of\" ||\n        tieRow[\"Predicate\"] === \"is son of\" ||\n        tieRow[\"Predicate\"] === \"is child of\"\n      ) {\n        mothers.forEach(m => {\n          if (m.targetID === tieRow[\"Direct Object ID\"]) {\n            testsibling.motherMatch = true;\n            testinfo.target = getName(entities[tieRow[\"Subject ID\"]]);\n            testinfo.targetID = tieRow[\"Subject ID\"];\n            testsibling.info = testinfo;\n            if (!(tieRow[\"Subject ID\"] in newsiblings)) {\n              newsiblings[tieRow[\"Subject ID\"]] = testsibling;\n            } else {\n              newsiblings[tieRow[\"Subject ID\"]].motherMatch = true;\n            }\n          }\n        });\n        fathers.forEach(f => {\n          if (f.targetID === tieRow[\"Direct Object ID\"]) {\n            testsibling.fatherMatch = true;\n            testinfo.target = getName(entities[tieRow[\"Subject ID\"]]);\n            testinfo.targetID = tieRow[\"Subject ID\"];\n            testsibling.info = testinfo;\n            if (!(tieRow[\"Subject ID\"] in newsiblings)) {\n              newsiblings[tieRow[\"Subject ID\"]] = testsibling;\n            } else {\n              newsiblings[tieRow[\"Subject ID\"]].fatherMatch = true;\n            }\n          }\n        });\n      }\n      // Then, determine where A is mother of Y, or if parent of Y where A is female\n      if (\n        tieRow[\"Predicate\"] === \"is mother of\" ||\n        tieRow[\"Predicate\"] === \"is divine mother of\" ||\n        (tieRow[\"Predicate\"] === \"is parent of\" &&\n          entities[tieRow[\"Subject ID\"]] &&\n          entities[tieRow[\"Subject ID\"]][\"Agent/Coll.: gender\"] === \"Female\")\n      ) {\n        mothers.forEach(m => {\n          if (m.targetID === tieRow[\"Subject ID\"]) {\n            testsibling.motherMatch = true;\n            testinfo.target = getName(entities[tieRow[\"Direct Object ID\"]]);\n            testinfo.targetID = tieRow[\"Direct Object ID\"];\n            testsibling.info = testinfo;\n            if (!(tieRow[\"Direct Object ID\"] in newsiblings)) {\n              newsiblings[tieRow[\"Direct Object ID\"]] = testsibling;\n            } else {\n              newsiblings[tieRow[\"Direct Object ID\"]].motherMatch = true;\n            }\n          }\n        });\n      }\n      // Then, determine where A is father of Y, or if parent of Y where A is male\n      if (\n        tieRow[\"Predicate\"] === \"is father of\" ||\n        tieRow[\"Predicate\"] === \"is divine father of\" ||\n        (tieRow[\"Predicate\"] === \"is parent of\" &&\n          entities[tieRow[\"Subject ID\"]] &&\n          entities[tieRow[\"Subject ID\"]][\"Agent/Coll.: gender\"] === \"Male\")\n      ) {\n        fathers.forEach(f => {\n          if (f.targetID === tieRow[\"Subject ID\"]) {\n            testsibling.fatherMatch = true;\n            testinfo.target = getName(entities[tieRow[\"Direct Object ID\"]]);\n            testinfo.targetID = tieRow[\"Direct Object ID\"];\n            testsibling.info = testinfo;\n            if (!(tieRow[\"Direct Object ID\"] in newsiblings)) {\n              newsiblings[tieRow[\"Direct Object ID\"]] = testsibling;\n            } else {\n              newsiblings[tieRow[\"Direct Object ID\"]].fatherMatch = true;\n            }\n          }\n        });\n      }\n    }\n  });\n  let keys: any[] = Object.keys(newsiblings);\n  keys.forEach(k => {\n    if (\n      !newsiblings[k].motherMatch ||\n      !newsiblings[k].fatherMatch ||\n      k === id\n    ) {\n      delete newsiblings[k];\n    } else {\n      siblings = checkAndRemoveDuplicates(siblings, newsiblings[k].info);\n    }\n  });\n  return siblings;\n};\n\n/******************************************************************************************/\n/* Check if no relations exist for this entity (used in DataCards.tsx)                    */\n/******************************************************************************************/\nexport const checkNoRelations = (relationships: any) => {\n  return (\n    relationships.MOTHERS.length === 0 &&\n    relationships.FATHERS.length === 0 &&\n    relationships.PARENTS.length === 0 &&\n    relationships.SIBLINGS.length === 0 &&\n    relationships.TWIN.length === 0 &&\n    relationships.SPOUSES.length === 0 &&\n    relationships.CHILDREN.length === 0\n  );\n};\n\nexport const checkNoMembers = (members: any) => {\n  return !members || members.length === 0;\n};\n\n/******************************************************************************************/\n/* Return all alternative names for entity (used in DataCards.tsx)                        */\n/******************************************************************************************/\nexport const getAlternativeNames = (id: string) => {\n  let alternatives: string = \"\";\n  alternatives += getNameString(\"Name (transliteration)\", alternatives, id);\n  alternatives += getNameString(\"Name (Greek font)\", alternatives, id);\n  alternatives += getNameString(\"Name (Latinized)\", alternatives, id);\n  alternatives += getNameString(\"Name in Latin texts\", alternatives, id);\n  alternatives += getNameString(\"Alternative names\", alternatives, id);\n\n  if (alternatives === \"\") {\n    return alternatives;\n  } else {\n    return \"(Also known as: \" + alternatives + \")\";\n  }\n};\n\nconst getNameString = (parameter: string, stringSoFar: string, id: string) => {\n  let s = \"\";\n  if (entities[id][parameter] !== \"\") {\n    if (stringSoFar === \"\") {\n      s = entities[id][parameter];\n    } else {\n      s = stringSoFar + \", \" + entities[id][parameter];\n    }\n  }\n  return s;\n};\n\n/******************************************************************************************/\n/* Get the entity's name                                                                  */\n/******************************************************************************************/\nexport const getName = (entityRow: any) => {\n  let possibleNames = [\n    \"Name (house style)\",\n    \"Name (transliteration)\",\n    \"Name (Greek font)\",\n    \"Name (Latinized)\",\n    \"Name in Latin texts\",\n    \"Alternative names\"\n  ];\n  if (entityRow) {\n    for (let i = 0; i < possibleNames.length; i++) {\n      if (\n        entityRow[possibleNames[i]] &&\n        entityRow[possibleNames[i]] !== \"\" &&\n        entityRow[possibleNames[i]] !== undefined\n      ) {\n        return entityRow[possibleNames[i]];\n      }\n      return \"\";\n    }\n  } else {\n    return \"\";\n  }\n};\n\n/******************************************************************************************/\n/* Get the entity type                                                                    */\n/******************************************************************************************/\nexport const getEntityType = (id: string) => {\n  if (entities[id]) {\n    if (entities[id][\"Type of entity\"] === \"Collective (Episodic)\") {\n      return \"Collective (Episodic)\";\n    } else if (entities[id][\"Type of entity\"] === \"Collective (misc.)\") {\n      return \"Collective (Miscellaneous)\";\n    } else if (entities[id][\"Type of entity\"] === \"Collective (genealogical)\") {\n      return \"Collective (Genealogical)\";\n    } else {\n      return \"\";\n    }\n  } else {\n    return \"\";\n  }\n};\n","// template from: https://konvajs.org/docs/react/index.html\n// Refs (stage and components): https://reactjsexample.com/react-binding-to-canvas-element-via-konva-framework/\nimport React, { Component } from \"react\";\nimport { Stage, Layer, Text, Rect, Line, Image } from \"react-konva\";\nimport relationships from \"./data/relationships.json\";\nimport objects from \"./data/objects.json\";\nimport { getName } from \"./DataCardHandler\";\nimport entities from \"./data/entities.json\";\nimport useImage from \"use-image\";\nimport Konva from \"konva\";\nimport passages from \"./data/passages.json\";\n\nclass EntityGraph extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      allShapes: [],\n      stageRef: undefined,\n      graphAttr: {\n        // these are all set in componentDidUpdate\n        initX: 0,\n        spaceX: 0,\n        nodeWidth: 0,\n        nodeHeight: 0,\n        NegOneY: 0,\n        ZeroY: 0,\n        PosOneY: 0\n      },\n      depthNodes: {\n        depthNegOne: [],\n        depthZero: [],\n        depthPosOne: []\n      },\n      lineLinks: [],\n      entityData: {},\n      id: \"\",\n      openInfoPage: {\n        showContestPage: false,\n        contest: undefined,\n        showUnusualPage: false,\n        unusual: undefined,\n        showIncestPage: false,\n        incest: undefined\n      }\n    };\n    this.getDepthNodes = this.getDepthNodes.bind(this);\n    this.getPassageLink = this.getPassageLink.bind(this);\n    this.handleInTextPageChange = this.handleInTextPageChange.bind(this);\n  }\n\n  /*****************************************************\n   *\n   *\n   *   SETUP METHODS\n   *\n   *\n   *****************************************************/\n  componentDidMount() {\n    // log stage react wrapper (reference)\n    console.log(this.refs.stage);\n    // log Konva.Stage instance (reference)\n    console.log(this.refs.stage.getStage());\n    // Get all children from the stage (equiiv. to stage.layers.<allchildren>)\n    // Get the object with the specified name (use \".\"+name)\n    console.log(this.refs.stage.find(\".name1\"));\n    // Use \"each()\" operator to sift through all items in the collection\n    // Use \"each\" here and \"forEach\" everywhere else and when referencinig this.state.allShapes\n    this.refs.stage.children[1].children.each(function(shape) {\n      console.log(\"Test\", shape.attrs.id);\n    });\n    console.log(this.refs.stage.children[1].children);\n    console.log(\"IDs:\", JSON.parse(relationships[this.props.id]));\n\n    // THE FOLLOWING POPULATES THE GRAPH WITH DEFUALT RELATIONSHIP INFORMATION (AGAMEMNON) AS THIS DEALS WIIH UNDEFINED ERRORS\n    // SPACE-WASTING BUT WORKS AS A TEMPORARY SOLUTION\n    let entityData = JSON.parse(relationships[this.props.id]);\n    let depthNodes = this.getDepthNodes(entityData);\n    let connectionsList = this.getConnectionsList(\n      entityData,\n      depthNodes,\n      this.props.id\n    );\n\n    let NegOneY = 0,\n      ZeroY = 0,\n      PosOneY = 0;\n    if (depthNodes.depthNegOne.length === 0) {\n      ZeroY = 100;\n      if (depthNodes.depthPosOne.length > 0) {\n        PosOneY = 400;\n      }\n    } else if (depthNodes.depthPosOne.length === 0) {\n      NegOneY = 100;\n      ZeroY = 400;\n    } else {\n      NegOneY = 100;\n      ZeroY = 400;\n      PosOneY = 700;\n    }\n    let graphAttr = {\n      initX: 150,\n      spaceX: 200,\n      nodeWidth: 150,\n      nodeHeight: 80,\n      NegOneY: NegOneY, // set later on\n      ZeroY: ZeroY, // set later on\n      PosOneY: PosOneY // set later on\n    };\n    // Set states\n    this.setState({\n      allShapes: this.refs.stage.children[1].children,\n      stageRef: this.refs.stage,\n      graphAttr: graphAttr,\n      id: this.props.id,\n      entityData: entityData,\n      depthNodes: depthNodes,\n      lineLinks: this.getAllLinePoints(\n        depthNodes,\n        entityData,\n        connectionsList,\n        graphAttr\n      ),\n      openInfoPage: {\n        showContestPage: false,\n        contest: undefined,\n        showUnusualPage: false,\n        unusual: undefined,\n        showIncestPage: false,\n        incest: undefined\n      }\n    });\n  }\n\n  componentDidUpdate() {\n    if (this.props.id !== this.state.id) {\n      // deal with agamemnon (default value) not showing up\n      let entityData = JSON.parse(relationships[this.props.id]);\n      let depthNodes = this.getDepthNodes(entityData);\n\n      // Create a connection calculator here\n      let connectionsList = this.getConnectionsList(\n        entityData,\n        depthNodes,\n        this.props.id\n      );\n\n      let NegOneY = 0,\n        ZeroY = 0,\n        PosOneY = 0;\n      if (depthNodes.depthNegOne.length === 0) {\n        ZeroY = 100;\n        if (depthNodes.depthPosOne.length > 0) {\n          PosOneY = 400;\n        }\n      } else if (depthNodes.depthPosOne.length === 0) {\n        NegOneY = 100;\n        ZeroY = 400;\n      } else {\n        NegOneY = 100;\n        ZeroY = 400;\n        PosOneY = 700;\n      }\n\n      let graphAttr = {\n        initX: 150,\n        spaceX: 200,\n        nodeWidth: 150,\n        nodeHeight: 80,\n        NegOneY: NegOneY, // set later on\n        ZeroY: ZeroY, // set later on\n        PosOneY: PosOneY // set later on\n      };\n\n      this.setState({\n        allShapes: this.refs.stage.children[1].children,\n        stageRef: this.refs.stage,\n        graphAttr: graphAttr,\n        id: this.props.id,\n        entityData: entityData,\n        depthNodes: depthNodes,\n        lineLinks: this.getAllLinePoints(\n          depthNodes,\n          entityData,\n          connectionsList,\n          graphAttr\n        ),\n        openInfoPage: {\n          showContestPage: false,\n          contest: undefined,\n          showUnusualPage: false,\n          unusual: undefined,\n          showIncestPage: false,\n          incest: undefined\n        }\n      });\n    }\n  }\n\n  getRandomPoints = () => {\n    let edge = [];\n    this.state.allShapes.forEach(function(shape) {\n      edge.push(shape.attrs.x + 75);\n      edge.push(shape.attrs.y + 40);\n    });\n    return edge;\n  };\n\n  /*****************************************************\n   *\n   *\n   *   GETTERS AND SETTERS (GRAPHING)\n   *\n   *\n   *****************************************************/\n\n  /* GET ALL NODES AND THEIR DEPTHS / GENERATION */\n  getDepthNodes = entityData => {\n    let depthNegOne = [],\n      depthZero = [],\n      depthPosOne = [];\n\n    //Parents and step-parents depth -1\n    entityData.relationships.MOTHERS.forEach(m => {\n      depthNegOne = this.checkForDuplicates(depthNegOne, m.targetID);\n    });\n    entityData.relationships.FATHERS.forEach(f => {\n      depthNegOne = this.checkForDuplicates(depthNegOne, f.targetID);\n    });\n    entityData.relationships.CREATORS.forEach(c => {\n      depthNegOne = this.checkForDuplicates(depthNegOne, c.targetID);\n    });\n\n    // Create unusual nodes, and add them to the end of depth -1\n    // TODO deal with depth Zero nodes too\n    if (entityData.unusual.autochthony.tf) {\n      depthNegOne.push(\"autochthony_NegOne\");\n    } else if (entityData.unusual.bornFromObject.tf) {\n      depthNegOne.push(\n        \"bornFromObject_\" +\n          entityData.unusual.bornFromObject.objectID +\n          \"_NegOne\"\n      ); //bornFromObject: <type>_<objectID>_<depth>\n    } else if (entityData.unusual.createdWithoutParents.tf) {\n      depthNegOne.push(\"createdWithoutParents_NegOne\");\n    }\n    // parthenogenesis is dealt with in a direct connection between mother and child, see later\n    // diesWithoutChildren doesn't require a separate node spot\n\n    //siblings, twins and spouses depth 0\n    entityData.relationships.SIBLINGS.forEach(s => {\n      depthZero = this.checkForDuplicates(depthZero, s.targetID);\n    });\n    entityData.relationships.TWIN.forEach(t => {\n      depthZero = this.checkForDuplicates(depthZero, t.targetID);\n    });\n    entityData.relationships.SPOUSES.forEach(s => {\n      depthZero = this.checkForDuplicates(depthZero, s.targetID);\n    });\n\n    // + all other parents\n    //children depth +1\n    for (let d = 0; d < entityData.relationships.CHILDREN.length; d++) {\n      entityData.relationships.CHILDREN[d].child.forEach(c => {\n        depthPosOne = this.checkForDuplicates(depthPosOne, c.targetID);\n      });\n      entityData.relationships.CHILDREN[d].otherParentIDs.forEach(p => {\n        depthZero = this.checkForDuplicates(depthZero, p); // NOte that the above deals with entityInfo type, but this (aka. highlighted node) is just ID\n      });\n    }\n\n    // Add the central node in the graph. Removes 3-parent contest resulting in \"OR\" on the main node, see Aerope\n    if (depthZero.length > 3) {\n      depthZero.splice(Math.ceil(depthZero.length / 2), 0, this.props.id); // NOte that the above deals with entityInfo type, but this (aka. highlighted node) is just ID\n    } else if (!depthZero.includes(this.props.id)) {\n      depthZero.splice(0, 0, this.props.id);\n    }\n    return {\n      depthNegOne: depthNegOne,\n      depthZero: depthZero,\n      depthPosOne: depthPosOne\n    };\n  };\n\n  checkForDuplicates = (arr, e) => {\n    if (arr.includes(e)) {\n      return arr;\n    } else {\n      arr.push(e);\n      return arr;\n    }\n  };\n\n  /* GET THE CONNECTIONS BETWEEN ENTITIES BASED ON THE RELATIONSHIPS GIVEN */\n  /* returns: [{parents: [list of ids], children: [list of ids], pNodeDepth: <depthNegOne, depthZero, depthPosOne>} , {...}] */\n  getConnectionsList = (entityData, depthNodes, id) => {\n    let allConnections = [];\n\n    //ADDING CONNECTIONS FOR MOTHER+FATHER -> YOU+SIBLING+TWIN\n    if (\n      entityData.relationships.MOTHERS.length > 0 ||\n      entityData.relationships.FATHERS.length > 0\n    ) {\n      let connection = {\n        parents: [],\n        children: [],\n        pNodeDepth: \"\",\n        contestedUnusual: false,\n        isUnusual: false, //\"isUnusual\" is used to denote the part of the contestedUnusual grouping that is not unusual, e.g. the normal disputed relationship paired with the unusual one\n        isIncest: false\n      };\n      let parentsDepth = entityData.relationships.MOTHERS.concat(\n        entityData.relationships.FATHERS\n      );\n      parentsDepth.forEach(p => {\n        connection.parents.push(p.targetID);\n      });\n      let childrenDepth = entityData.relationships.SIBLINGS.concat(\n        entityData.relationships.TWIN\n      );\n      childrenDepth.forEach(c => {\n        connection.children.push(c.targetID);\n      });\n      connection.children.push(id);\n      connection.pNodeDepth = \"depthNegOne\";\n\n      // If there are parents but there are also\n      if (\n        entityData.unusual.autochthony.tf ||\n        entityData.unusual.createdWithoutParents.tf ||\n        entityData.unusual.bornFromObject.tf ||\n        entityData.unusual.createdByAgent.tf ||\n        (entityData.unusual.parthenogenesis.tf &&\n          (entityData.relationships.MOTHERS.length > 1 ||\n            entityData.relationships.FATHERS.length > 0))\n      ) {\n        connection.contestedUnusual = true;\n      }\n      allConnections.push(connection);\n    }\n\n    //ADDING CONNECTIONS FOR YOU+OTHERPARENTID -> CHILDREN\n    if (entityData.relationships.CHILDREN.length > 0) {\n      entityData.relationships.CHILDREN.forEach(cp => {\n        let connection = {\n          parents: [],\n          children: [],\n          pNodeDepth: \"\",\n          contestedUnusual: false,\n          isUnusual: false,\n          isIncest: false\n        };\n        cp.child.forEach(c => {\n          connection.children.push(c.targetID);\n        });\n        cp.otherParentIDs.forEach(p => {\n          connection.parents.push(p);\n        });\n        connection.parents.push(id);\n        connection.pNodeDepth = \"depthZero\";\n        allConnections.push(connection);\n        //TODO: Add contestedUnusual here\n      });\n    }\n\n    //ADDING CONNECTIONS FOR SPOUSES (PROVIDED THE SPOUSE ID DOESN'T ALREADY EXIST IN OTHERPARENTSID ABOVE\n    if (entityData.relationships.SPOUSES.length > 0) {\n      entityData.relationships.SPOUSES.forEach(s => {\n        if (!this.isSpouseRepeated(s.targetID, allConnections)) {\n          allConnections.push({\n            parents: [id, s.targetID],\n            children: [],\n            pNodeDepth: \"depthZero\",\n            contestedUnusual: false,\n            isUnusual: false,\n            isIncest: false\n          });\n          // TODO: Deal with children is empty when spouse without children\n          // TODO: Add contestedUnusual here\n        }\n      });\n    }\n\n    let moreParents =\n      entityData.relationships.MOTHERS.length > 0 ||\n      entityData.relationships.FATHERS.length > 0;\n\n    //CHECKING ADDING CONNECTIONS FOR ALL UNUSUAL RELATIONSHIPS (separate to mother, father etc. checkings):\n    if (entityData.unusual.autochthony.tf) {\n      // if there are also mothers and fathers, this means the idea of autochthony is contested\n      let connection = {\n        parents: [\"autochthony_NegOne\"],\n        children: [id],\n        pNodeDepth: \"depthNegOne\",\n        contestedUnusual: false,\n        isUnusual: true,\n        isIncest: false\n      };\n      if (moreParents) {\n        connection.contestedUnusual = true;\n      }\n      allConnections.push(connection);\n    } else if (entityData.unusual.createdWithoutParents.tf) {\n      let connection = {\n        parents: [\"createdWithoutParents_NegOne\"],\n        children: [id],\n        pNodeDepth: \"depthNegOne\",\n        contestedUnusual: false,\n        isUnusual: true,\n        isIncest: false\n      };\n      if (moreParents) {\n        connection.contestedUnusual = true;\n      }\n      allConnections.push(connection);\n    } else if (entityData.unusual.bornFromObject.tf) {\n      let connection = {\n        parents: [\n          \"bornFromObject_\" +\n            entityData.relationships.BORNFROM[0].targetID +\n            \"_NegOne\"\n        ],\n        children: [id],\n        pNodeDepth: \"depthNegOne\",\n        contestedUnusual: false,\n        isUnusual: true,\n        isIncest: false\n      };\n      if (moreParents) {\n        connection.contestedUnusual = true;\n      }\n      allConnections.push(connection);\n    } else if (entityData.unusual.createdByAgent.tf) {\n      let connection = {\n        parents: [entityData.relationships.CREATORS[0].targetID],\n        children: [id],\n        pNodeDepth: \"depthNegOne\",\n        contestedUnusual: false,\n        isUnusual: true,\n        isIncest: false\n      };\n      if (moreParents) {\n        connection.contestedUnusual = true;\n      }\n      allConnections.push(connection);\n    } else if (entityData.unusual.diesWithoutChildren.tf) {\n      //TODO: Deal with contested diesWithoutChildren\n      let connection = {\n        parents: [id],\n        children: [\"diesWithoutChildren\"],\n        pNodeDepth: \"depthZero\",\n        contestedUnusual: false,\n        isUnusual: false,\n        isIncest: false\n      };\n      allConnections.push(connection);\n    } else if (entityData.unusual.parthenogenesis.tf) {\n      let connection = {\n        parents: [entityData.relationships.MOTHERS[0].targetID],\n        children: [id],\n        pNodeDepth: \"depthNegOne\",\n        contestedUnusual: false,\n        isUnusual: true,\n        isIncest: false\n      };\n      if (moreParents) {\n        connection.contestedUnusual = true;\n      }\n      allConnections.push(connection);\n    }\n\n    // CHECK INCESTUOUS RELATIONSHIPS\n\n    // Check incest over multiple depths\n    // TODO: Currently only does gen depth 1 incest e.g. depthNegOne -> depthZero, depthZero -> depthPosOne\n    for (let i = 0; i < depthNodes.depthNegOne.length; i++) {\n      if (depthNodes.depthZero.includes(depthNodes.depthNegOne[i])) {\n        let connection = {\n          parents: [depthNodes.depthNegOne[i]],\n          children: [],\n          pNodeDepth: \"depthNegOne\",\n          contestedUnusual: false,\n          isUnusual: false,\n          isIncest: true\n        };\n        allConnections.push(connection);\n      }\n    }\n    for (let i = 0; i < depthNodes.depthZero.length; i++) {\n      if (depthNodes.depthPosOne.includes(depthNodes.depthZero[i])) {\n        let connection = {\n          parents: [depthNodes.depthZero[i]],\n          children: [],\n          pNodeDepth: \"depthZero\",\n          contestedUnusual: false,\n          isUnusual: false,\n          isIncest: true\n        };\n        allConnections.push(connection);\n      }\n    }\n    // Check incest over the same depth (only sibling & spouse atm)\n    // ignores all unusual cases, e.g. autochthony_NegOne\n    entityData.relationships.SPOUSES.forEach(spo => {\n      entityData.relationships.SIBLINGS.forEach(sib => {\n        if (\n          spo.targetID === sib.targetID &&\n          depthNodes.depthZero.includes(spo.targetID)\n        ) {\n          let connection = {\n            parents: [entityData.id, spo.targetID],\n            children: [],\n            pNodeDepth: \"depthZero\",\n            contestedUnusual: false,\n            isUnusual: false,\n            isIncest: true\n          };\n          allConnections.push(connection);\n        }\n      });\n    });\n\n    return allConnections;\n  };\n\n  /* GET LINE POINTS BASED ON THE LINE CONNECTIONS FOUND */\n\n  // Create an array holding all relationships between entities, parent+parent->children+siblings [[P,P,C,S], [...]]\n  getAllLinePoints = (depthNodes, entityData, connections, graphAttr) => {\n    /************************/\n    /*  GET LINE POINTS \n    /************************/\n\n    let allLinePoints = [];\n\n    /*\n     *    (p1)                  (p2)\n     *     |                     ^ |\n     *     |                     | |\n     *     v                     | v\n     *    (p1L)---------------->(p2L)\n     *               (pM)<---------\n     *                |\n     *                |\n     *                v\n     *  (c1U)<------(cM)     /->(c2U)\n     *    | ^ --------------/     |\n     *    | |                     |\n     *    v |                     v\n     *   (c1)                   (c2)\n     */\n\n    // [P1, P1L, P2L, P2, P2L, PM] [PM, CU, C1U, C1, C1U, C2U, C2]\n    //Connect parent nodes\n    let width = graphAttr.nodeWidth;\n    let height = graphAttr.nodeHeight;\n    let diff = 50;\n    let initX = graphAttr.initX;\n    let spaceX = graphAttr.spaceX;\n\n    /* TODO: FIX THIS FOR GENERATION-ANONYMOUS */\n    for (let i = 0; i < connections.length; i++) {\n      // connections[INDEX] = {parents: [id1, id2, ...], children: [id1, id2, ...]}\n\n      /*****************************************************/\n      /*  GET LINE POINTS FOR EVERY CONNECTION\n      /*****************************************************/\n      let linePoints = [];\n\n      // Deal with parthenogenesis, because unlike the other types, parthenogenesis is just a diagonal.\n      // TODO: Put this in a better place\n      if (\n        entityData.unusual.parthenogenesis.tf &&\n        connections[i].parents.length === 1 &&\n        connections[i].parents[0] ===\n          entityData.relationships.MOTHERS[0].targetID\n      ) {\n        // Draw a line directly from parent to child if is a case of parthenogenesis\n        let pX =\n          initX +\n          depthNodes.depthNegOne.indexOf(connections[i].parents[0]) * spaceX +\n          width / 2;\n        let pY = graphAttr.NegOneY + height;\n        let cX =\n          initX +\n          depthNodes.depthZero.indexOf(entityData.id) * spaceX +\n          width / 2;\n        let cY = graphAttr.ZeroY;\n        linePoints.push(pX, pY, cX, cY);\n      }\n      // Check if entity dies without children, aka. put a line straight down to an X\n      else if (connections[i].children[0] === \"diesWithoutChildren\") {\n        // Draw a line directly downards to an X\n        let pX =\n          initX +\n          depthNodes.depthZero.indexOf(connections[i].parents[0]) * spaceX +\n          width / 2;\n        let pY = graphAttr.ZeroY + height;\n        let lowerpY = pY + diff + 35;\n        linePoints.push(pX, pY);\n        linePoints.push(pX, lowerpY); // center of x\n        linePoints.push(pX - 12, lowerpY - 12); // top left corner of X\n        linePoints.push(pX, lowerpY); // back to center of x\n        linePoints.push(pX + 12, lowerpY - 12); // top right corner of X\n        linePoints.push(pX, lowerpY); // back to center of x\n        linePoints.push(pX - 12, lowerpY + 12); //bottom left corner of X\n        linePoints.push(pX, lowerpY); // back to center of x\n        linePoints.push(pX + 12, lowerpY + 12); //bottom right corner of X\n      }\n      // Deal with incest\n      else if (connections[i].isIncest) {\n        // intergenerational (over multiple depths)\n        if (connections[i].parents.length === 1) {\n          let x1 = 0,\n            x2 = 0,\n            y1 = 0,\n            y2 = 0;\n          if (connections[i].pNodeDepth === \"depthNegOne\") {\n            x1 =\n              initX +\n              depthNodes.depthNegOne.indexOf(connections[i].parents[0]) *\n                spaceX +\n              width / 2;\n            x2 =\n              initX +\n              depthNodes.depthZero.indexOf(connections[i].parents[0]) * spaceX +\n              width / 2;\n            y1 = graphAttr.NegOneY + height;\n            y2 = graphAttr.ZeroY;\n          } else if (connections[i].pNodeDepth === \"depthZero\") {\n            x1 =\n              initX +\n              depthNodes.depthZero.indexOf(connections[i].parents[0]) * spaceX +\n              width / 2;\n            x2 =\n              initX +\n              depthNodes.depthPosOne.indexOf(connections[i].parents[0]) *\n                spaceX +\n              width / 2;\n            y1 = graphAttr.ZeroY + height;\n            y2 = graphAttr.PosOneY;\n          }\n          linePoints.push(x1, y1, x2, y2);\n        }\n        // spousal-sibling (over same depth)\n        if (connections[i].parents.length > 1) {\n          let x1 =\n            initX +\n            depthNodes.depthZero.indexOf(connections[i].parents[0]) * spaceX +\n            width / 2;\n          let aY = graphAttr.ZeroY;\n          let x2 =\n            initX +\n            depthNodes.depthZero.indexOf(connections[i].parents[1]) * spaceX +\n            width / 2;\n          linePoints.push(x1, aY, x1, aY - diff, x2, aY - diff, x2, aY);\n\n          let bY = graphAttr.ZeroY + graphAttr.nodeHeight;\n          linePoints.push(x1, bY, x1, bY + diff, x2, bY + diff, x2, bY);\n        }\n      } else {\n        // TODO: All other connections\n\n        let PM_Y = 0,\n          PM_X = 0;\n\n        // Get the depth of the nodes\n        let depth;\n        if (connections[i].pNodeDepth === \"depthNegOne\") {\n          depth = depthNodes.depthNegOne;\n          PM_Y = graphAttr.NegOneY + height + diff; // Assign PM_Y value here\n        } else {\n          depth = depthNodes.depthZero;\n          PM_Y = graphAttr.ZeroY + height + diff; // Assign PM_Y value here\n        }\n        // Get middle X location first (average of all X values)\n        connections[i].parents.forEach(p => {\n          let pX = initX + depth.indexOf(p) * spaceX;\n          PM_X = PM_X + pX;\n        });\n        PM_X =\n          connections[i].parents.length > 1 // Removes division by 0 error\n            ? (PM_X + width) / connections[i].parents.length\n            : PM_X + width / 2;\n\n        // Check parent nodes. PM -> PL -> P -> PL -> PM. This joins the lines at the middle point for each connection.\n        connections[i].parents.forEach(p => {\n          let pIndex = depth.indexOf(p);\n          let pY = 0;\n          if (connections[i].pNodeDepth === \"depthNegOne\") {\n            pY = graphAttr.NegOneY + height;\n          } else {\n            pY = graphAttr.ZeroY + height;\n          }\n          linePoints.push(PM_X, PM_Y); //PM\n          linePoints.push(initX + pIndex * spaceX + width / 2, PM_Y); //PL\n          linePoints.push(\n            initX + pIndex * spaceX + width / 2,\n            pY //P\n          );\n          linePoints.push(initX + pIndex * spaceX + width / 2, PM_Y); //PL\n          linePoints.push(PM_X, PM_Y); //PM\n        });\n\n        // Check children nodes\n        if (connections[i].children.length > 0) {\n          let CM_Y = 0;\n          // Update the Y location to the depth for children\n          if (connections[i].pNodeDepth === \"depthNegOne\") {\n            depth = depthNodes.depthZero;\n            CM_Y = graphAttr.ZeroY - diff; // Assign PM_Y value here\n          } else {\n            depth = depthNodes.depthPosOne;\n            CM_Y = graphAttr.PosOneY - diff; // Assign PM_Y value here\n          }\n\n          // Add a line from the existing (PM_X, PM_Y) spot to (PM_X, CM_Y)\n          linePoints.push(PM_X, CM_Y);\n\n          // CM -> CL -> C -> CL -> CM. This joins the lines at the middle point for each connection.\n          connections[i].children.forEach(c => {\n            let cIndex = depth.indexOf(c);\n            let cY = 0;\n            if (connections[i].pNodeDepth === \"depthNegOne\") {\n              cY = graphAttr.ZeroY;\n            } else {\n              cY = graphAttr.PosOneY;\n            }\n            linePoints.push(PM_X, CM_Y); //CM\n            linePoints.push(initX + cIndex * spaceX + width / 2, CM_Y); //CL\n            linePoints.push(\n              initX + cIndex * spaceX + width / 2,\n              cY //C\n            );\n            linePoints.push(initX + cIndex * spaceX + width / 2, CM_Y); //CL\n            linePoints.push(PM_X, CM_Y); //CM\n          });\n        }\n      }\n\n      /*****************************************************/\n      /*  GET LINE NAME\n      /*****************************************************/\n      let name = connections[i].parents\n        .concat(connections[i].children)\n        .toString();\n\n      /*****************************************************/\n      /*  CHECK IF THE CONNECTION IS UNUSUAL OR CONTESTED\n      /*****************************************************/\n      let unusual = {\n        tf: false,\n        type: \"\",\n        passage: undefined,\n        child: undefined\n      };\n      let contested = {\n        tf: false,\n        type: \"\",\n        contestedMothers: undefined,\n        contestedFathers: undefined,\n        uncontestedParents: undefined,\n        child: undefined\n      };\n      let incest = {\n        tf: false,\n        type: \"\", //sameGen (e.g. sibling and spouse, same depth), interGen (child & parent, child & aunt, different depths)\n        involved: undefined\n      };\n      // CHECK CONTESTED (PART 1): Check if the connection has already been acknowledged as contested and unusual at the same timee\n      let contestedUnusual = connections[i].contestedUnusual;\n      let isUnusual = connections[i].isUnusual;\n\n      // CHECK INCEST\n      if (connections[i].isIncest) {\n        incest = {\n          tf: true,\n          type: connections[i].parents.length <= 1 ? \"interGen\" : \"sameGen\",\n          involved: connections[i].parents\n        };\n      }\n      // FOR PARENT -> MAIN NODE CONNECTIONS\n      else if (connections[i].pNodeDepth === \"depthNegOne\") {\n        // UNUSUAL: Since the depth in question is depth -1 => one of the children must be the main entity\n        // Only check unusual status and contested status of the main entity\n\n        // CHECK IF CONNECTION IS UNUSUAL\n        if (entityData.unusual.autochthony.tf) {\n          unusual = {\n            tf: true,\n            type: \"Autochthony\",\n            passage: entityData.unusual.autochthony.passage,\n            child: entityData.id\n          };\n        } else if (entityData.unusual.createdWithoutParents.tf) {\n          unusual = {\n            tf: true,\n            type: \"Created Without Parents\",\n            passage: entityData.unusual.createdWithoutParents.passage,\n            child: entityData.id\n          };\n        } else if (entityData.unusual.createdByAgent.tf) {\n          unusual = {\n            tf: true,\n            type: \"Created by Someone Else\",\n            passage: entityData.unusual.createdByAgent.passage,\n            child: entityData.id\n          };\n        } else if (entityData.unusual.parthenogenesis.tf) {\n          unusual = {\n            tf: true,\n            type: \"Parthenogenesis\",\n            passage: entityData.unusual.parthenogenesis.passage,\n            child: entityData.id\n          };\n        } else if (entityData.unusual.bornFromObject.tf) {\n          unusual = {\n            tf: true,\n            type: \"Born from an Object\",\n            passage: entityData.unusual.bornFromObject.passage,\n            child: entityData.id\n          };\n        }\n\n        // CHECK CONTESTED (PART 2): Check if the main entity has > two parents. If so, is contested\n        if (connections[i].parents.length > 2) {\n          let contestedMothers = [];\n          let contestedFathers = [];\n          let uncontestedParents = [];\n\n          if (entityData.relationships.MOTHERS.length > 1) {\n            contestedMothers = entityData.relationships.MOTHERS;\n          } else if (entityData.relationships.MOTHERS.length === 1) {\n            uncontestedParents.push(entityData.relationships.MOTHERS[0]);\n          }\n\n          if (entityData.relationships.FATHERS.length > 1) {\n            contestedFathers = entityData.relationships.FATHERS;\n          } else if (entityData.relationships.FATHERS.length === 1) {\n            uncontestedParents.push(entityData.relationships.FATHERS[0]);\n          }\n\n          contested = {\n            tf: true,\n            type: \"Contested Parentage\",\n            contestedMothers: contestedMothers,\n            contestedFathers: contestedFathers,\n            uncontestedParents: uncontestedParents,\n            child: entityData.id\n          }; // contestedParents - the list of all parents that are contested, e.g. contested mothers, contested fathers\n        }\n      }\n\n      // Check Main Node -> Children\n      else if (connections[i].pNodeDepth === \"depthZero\") {\n        if (\n          connections[i].children[0] === \"diesWithoutChildren\" &&\n          entityData.relationships.CHILDREN.length > 0\n        ) {\n          contested = {\n            tf: true,\n            type: \"Contested Legacy\",\n            contestedMothers: undefined,\n            contestedFathers: undefined,\n            uncontestedParents: undefined,\n            child: undefined\n          };\n        } else if (connections[i].children[0] !== \"diesWithoutChildren\") {\n          if (\n            connections[i].children.length > 0 &&\n            entityData.unusual.diesWithoutChildren.tf\n          ) {\n            // CHECK CONTESTED (PART 3.1): Check if contested legacy, aka. has children but is explicitly diesWithoutChildren\n            contested = {\n              tf: true,\n              type: \"Contested Legacy\",\n              contestedMothers: undefined,\n              contestedFathers: undefined,\n              uncontestedParents: undefined,\n              child: undefined\n            };\n          } else {\n            // UNUSUAL: Since the main node is one of the parents,\n            // loop through every child for unusuality\n            connections[i].children.forEach(c => {\n              let cRelationships = JSON.parse(relationships[c]);\n\n              // Check for unusualness\n              /* TODO: FIX UNUSUALANESS CHECKER FOR CHILDREN\n          if (cRelationships.unusual.autochthony.tf) {\n            unusual = {\n              tf: true,\n              type: \"autochthony\",\n              passage: c.unusual.autochthony.passage,\n              child: c\n            };\n          } else if (cRelationships.unusual.createdWithoutParents.tf) {\n            unusual = { tf: true, type: \"createdWithoutParents\" };\n          } else if (cRelationships.unusual.createdByAgent.tf) {\n            unusual = { tf: true, type: \"createdByAgent\" };\n          } else if (cRelationships.unusual.parthenogenesis.tf) {\n            unusual = { tf: true, type: \"parthenogenesis\" };\n          } else if (cRelationships.unusual.bornFromObject.tf) {\n            unusual = { tf: true, type: \"bornFromObject\" };\n          } else if (cRelationships.unusual.diesWithoutChildren.tf) {\n            //TODO: deal with this in a more suitable place\n            unusual = { tf: true, type: \"diesWithoutChildren\" };\n          } else {\n            // Leave overall connection unusualness as false\n          }\n          */\n\n              // CONTESTED: Check if the child has > two parents (one of which is the main character). If so, is contested\n              // TODO: Make this more complex - note what Greta said about the complexity of contested relationships\n              if (\n                cRelationships.relationships.MOTHERS.length +\n                  cRelationships.relationships.FATHERS.length >\n                2\n              ) {\n                let contestedMothers = [];\n                let contestedFathers = [];\n                let uncontestedParents = [];\n                if (cRelationships.relationships.MOTHERS.length > 1) {\n                  contestedMothers = cRelationships.relationships.MOTHERS;\n                } else if (cRelationships.relationships.MOTHERS.length === 1) {\n                  uncontestedParents = [\n                    cRelationships.relationships.MOTHERS[0]\n                  ];\n                }\n\n                if (cRelationships.relationships.FATHERS.length > 1) {\n                  // (entityData.relationships.FATHERS.length > 1) {\n                  contestedFathers = cRelationships.relationships.FATHERS;\n                } else if (cRelationships.relationships.FATHERS.length === 1) {\n                  uncontestedParents = [\n                    cRelationships.relationships.FATHERS[0]\n                  ];\n                }\n\n                contested = {\n                  tf: true,\n                  type: \"Contested Parentage\",\n                  contestedMothers: contestedMothers,\n                  contestedFathers: contestedFathers,\n                  uncontestedParents: uncontestedParents,\n                  child: c\n                }; // contestedParents - the list of all parents that are contested, e.g. contested mothers, contested fathers\n              }\n            });\n          }\n        }\n      }\n\n      if (connections[i].isIncest && connections[i].parents.length > 1) {\n        allLinePoints.push({\n          name: name,\n          points: linePoints.slice(0, 8),\n          unusual: unusual,\n          incest: incest,\n          contested: contested,\n          contestedUnusual: contestedUnusual,\n          isUnusual: isUnusual,\n          pNodeDepth: connections[i].pNodeDepth\n        });\n        allLinePoints.push({\n          name: name,\n          points: linePoints.slice(8, linePoints.length),\n          unusual: unusual,\n          incest: incest,\n          contested: contested,\n          contestedUnusual: contestedUnusual,\n          isUnusual: isUnusual,\n          pNodeDepth: connections[i].pNodeDepth\n        });\n      } else {\n        allLinePoints.push({\n          name: name,\n          points: linePoints,\n          unusual: unusual,\n          incest: incest,\n          contested: contested,\n          contestedUnusual: contestedUnusual,\n          isUnusual: isUnusual,\n          pNodeDepth: connections[i].pNodeDepth\n        });\n      }\n    }\n    return allLinePoints;\n  };\n\n  isSpouseRepeated = (sID, allConnections) => {\n    let repeated = false;\n    for (let i = 0; i < allConnections.length; i++) {\n      allConnections[i].parents.forEach(pID => {\n        if (sID === pID) {\n          repeated = true;\n        }\n      });\n    }\n    return repeated;\n  };\n\n  /*****************************************************\n   *\n   *\n   *   GETTERS AND SETTERS (INFO CONTENT)\n   *\n   *\n   *****************************************************/\n\n  getPassageLink(passage) {\n    let id = passage.startID;\n    let author = passages[id].Author;\n    let title = passages[id].Title;\n    let start = passages[id].Passage;\n    let end = passage.endID;\n\n    // Dealing with multiple URNs\n    let URN = \"\";\n    let URNsplit = passages[id][\"CTS URN\"].split(\", \");\n    if (URNsplit.length >= 2) {\n      URN = URNsplit[1];\n    } else {\n      URN = passages[id][\"CTS URN\"];\n    }\n    URN = URN.replace(/grc2/, \"eng2\"); // View the existing passages CTS URN to english translation\n    URN = \"https://scaife.perseus.org/reader/\" + URN;\n    if (passage.endID !== \"\") {\n      end = passages[end].Passage;\n      URN = URN + \"-\" + end;\n    }\n    URN = URN + \"/?right=perseus-eng2\";\n\n    return (\n      <span>\n        <a\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          href={URN}\n          style={{\n            color: \"grey\",\n            fontSize: \"16px\"\n          }}\n        >\n          {author + \", \"}\n          <span style={{ fontStyle: \"italic\" }}>{title}</span> {start}\n          {start !== end && end !== \"\" ? \"-\" + end : \"\"}\n        </a>\n      </span>\n    );\n  }\n\n  getContestedPermutations(contest) {\n    let outer = [];\n    let inner = [];\n    if (\n      contest.contestedFathers.length > 1 &&\n      contest.contestedMothers.length > 1\n    ) {\n      if (contest.contestedFathers.length >= contest.contestedMothers.length) {\n        outer = contest.contestedFathers;\n        inner = contest.contestedMothers;\n      } else {\n        outer = contest.contestedMothers;\n        inner = contest.contestedFathers;\n      }\n    } // dispute when other parent is unknown, and known parents are contested\n    else if (\n      (contest.contestedFathers.length === 0) &\n      (contest.uncontestedParents.length === 0) &\n      (contest.contestedMothers.length > 0)\n    ) {\n      outer = contest.contestedMothers;\n    } else if (\n      (contest.contestedMothers.length === 0) &\n      (contest.uncontestedParents.length === 0) &\n      (contest.contestedFathers.length > 0)\n    ) {\n      outer = contest.contestedFathers;\n    } else {\n      outer = contest.uncontestedParents;\n      inner =\n        contest.contestedFathers.length > 0\n          ? contest.contestedFathers\n          : contest.contestedMothers;\n    }\n    return (\n      <div>\n        {outer.map((out, i) => {\n          if (inner.length > 0) {\n            return inner.map((inn, j) => {\n              return (\n                <div style={{ fontSize: \"1.3rem\", margin: \"1rem 0 1rem 0\" }}>\n                  <span style={{ fontWeight: \"bold\" }}>\n                    {getName(entities[contest.child])}\n                  </span>{\" \"}\n                  is child of{\" \"}\n                  <span style={{ fontWeight: \"bold\" }}>\n                    {getName(entities[out.targetID])}\n                  </span>{\" \"}\n                  <span>\n                    {out.passage.map((p, k) => {\n                      return <span>{this.getPassageLink(p)} </span>;\n                    })}\n                  </span>\n                  and{\" \"}\n                  <span style={{ fontWeight: \"bold\" }}>\n                    {getName(entities[inn.targetID])}\n                  </span>{\" \"}\n                  {inn.passage.map((p, k) => {\n                    return <span>{this.getPassageLink(p)} </span>;\n                  })}\n                  {/* if (k === child.passage.length - 1) {\n                  return this.getPassageLink(p);\n                } else {\n                  return (\n                    <span>\n                      {this.getPassageLink(p)}\n                      {\" \"}\n                    </span>\n                  );\n                } */}\n                  {i === outer.length - 1 && j === inner.length - 1 ? (\n                    \"\"\n                  ) : (\n                    <div>\n                      <p></p>OR<p></p>\n                    </div>\n                  )}\n                </div>\n              );\n            });\n          } else {\n            return (\n              <div style={{ fontSize: \"1.3rem\", margin: \"1rem 0 1rem 0\" }}>\n                <span style={{ fontWeight: \"bold\" }}>\n                  {getName(entities[contest.child])}\n                </span>{\" \"}\n                is child of{\" \"}\n                <span style={{ fontWeight: \"bold\" }}>\n                  {getName(entities[out.targetID])}\n                </span>{\" \"}\n                <span>\n                  {out.passage.map((p, k) => {\n                    return <span>{this.getPassageLink(p)} </span>;\n                  })}\n                </span>\n                {i === outer.length - 1 ? (\n                  \"\"\n                ) : (\n                  <div>\n                    <p></p>OR<p></p>\n                  </div>\n                )}\n              </div>\n            );\n          }\n        })}\n      </div>\n    );\n  }\n\n  getUnusualExplanation = type => {\n    if (type === \"Autochthony\") {\n      return \"Local heroes are sometimes said to have sprung up out of the ground. These stories often strengthen a communitys claim to long and uncontested ownership of a territory.\";\n    } else if (type === \"Created Without Parents\") {\n      return \"At the very beginnings of mythical time, some primeval gods  often personifications of basic elemental forces  are said to have simply come into being.\";\n    } else if (type === \"Created by Someone Else\") {\n      return \"Gods  and some notable heroes  are said to have created mortals.  \";\n    } else if (type === \"Born from an Object\") {\n      return \"Some gods and heroes were said to have been born in strange ways, including from eggs, and from a body part of one of their parents.\";\n    } else if (type === \"Parthenogenesis\") {\n      return \"Some goddesses are said to have given birth to children without having had sex. As a result, the offspring do not have fathers.\";\n    }\n  };\n\n  getUnusualVerb = type => {\n    if (type === \"Autochthony\") {\n      return \" is born by autochthony\";\n    } else if (type === \"Created Without Parents\") {\n      return \" is created without parents\";\n    } else if (type.type === \"Created by Someone Else\") {\n      return (\n        <span>\n          {\" \"}\n          is created by{\" \"}\n          <span style={{ fontWeight: \"bold\" }}>\n            {getName(entities[type.objectID])}\n          </span>\n        </span>\n      );\n    } else if (type === \"Parthenogenesis\") {\n      return (\n        <span>\n          {\" \"}\n          is born from{\" \"}\n          <span style={{ fontWeight: \"bold\" }}>\n            {getName(\n              entities[this.state.entityData.relationships.MOTHERS[0].targetID]\n            )}\n          </span>{\" \"}\n          by parthenogenesis.\n        </span>\n      );\n    } else if (\n      type.type &&\n      type.objectID &&\n      type.type === \"Born from an Object\"\n    ) {\n      return (\n        <span>\n          {\" \"}\n          is born from{\" \"}\n          <span style={{ fontWeight: \"bold\" }}>\n            {getName(objects[type.objectID])}\n          </span>\n        </span>\n      );\n    }\n  };\n\n  //currentExample = id of current entity. This is to remove duplicate suggestions for the same unusual relationship.\n  //returns list of IDs that are of this unusual type, excluding the main entity\n  //if list is empty, return in main section \"no other examples exist\"\n  getOtherUnusualExamples = (currentExampleID, type) => {\n    if (type === \"Autochthony\") {\n      //List of IDs of other entities with autochthony\n      let allExamples = [\n        \"8359949\",\n        \"8189143\",\n        \"8189080\",\n        \"8189673\",\n        \"8187960\",\n        \"8188080\",\n        \"8182143\"\n      ];\n      //Return list of IDs excluding the main entity ID\n      allExamples.splice(allExamples.indexOf(currentExampleID), 1);\n      return allExamples;\n    } else if (type === \"Created Without Parents\") {\n      //List of IDs of other entities with autochthony\n      let allExamples = [\"8188388\"];\n      //Return list of IDs excluding the main entity ID\n      allExamples.splice(allExamples.indexOf(currentExampleID), 1);\n      return allExamples;\n    } else if (type === \"Created by Someone Else\") {\n      let allExamples = [\"8189114\"];\n      allExamples.splice(allExamples.indexOf(currentExampleID), 1);\n      return allExamples;\n    } else if (type === \"Born from an Object\") {\n      let allExamples = [\n        \"8189128\",\n        \"8188011\",\n        \"8190006\",\n        \"8188175\",\n        \"8188272\",\n        \"8187870\",\n        \"9414339\"\n      ];\n      allExamples.splice(allExamples.indexOf(currentExampleID), 1);\n      return allExamples;\n    } else if (type === \"Parthenogenesis\") {\n      let allExamples = [\"8188476\"];\n      allExamples.splice(allExamples.indexOf(currentExampleID), 1);\n      return allExamples;\n    } else if (type === \"sameGen\" || type === \"interGen\") {\n      let allExamples = [\"8188399\", \"8188355\", \"8187838\", \"8188390\", \"8188388\"];\n      allExamples.splice(allExamples.indexOf(currentExampleID), 1);\n      allExamples.splice(allExamples.indexOf(this.state.entityData.id), 1);\n      return allExamples;\n    } else return [];\n  };\n\n  getUnusualImage = type => {\n    if (type === \"Autochthony\") {\n      return (\n        <img alt=\"autochthony\" src={require(\"./images/autochthony.png\")}></img>\n      );\n    } else if (type === \"Created Without Parents\") {\n      return (\n        <img\n          alt=\"creation without parents\"\n          src={require(\"./images/createdWithoutParents.png\")}\n        ></img>\n      );\n    } else if (type === \"Created by Someone Else\") {\n      return (\n        <img\n          alt=\"created by someone else\"\n          src={require(\"./images/createdByAgent.png\")}\n        ></img>\n      );\n    } else if (type === \"Born from an Object\") {\n      return (\n        <img\n          alt=\"born from object\"\n          src={require(\"./images/bornFromObject.png\")}\n        ></img>\n      );\n    } else if (type === \"Parthenogenesis\") {\n      return (\n        <img\n          alt=\"parthenogenesis\"\n          style={{ width: \"37px\", height: \"auto\" }}\n          src={require(\"./images/parthenogenesis.png\")}\n        ></img>\n      );\n    }\n  };\n\n  getStageWidth = () => {\n    if (this.state.depthNodes) {\n      let maxNodesPerDepth = 0;\n      if (this.state.depthNodes.depthNegOne.length > maxNodesPerDepth) {\n        maxNodesPerDepth = this.state.depthNodes.depthNegOne.length;\n      }\n      if (this.state.depthNodes.depthZero.length > maxNodesPerDepth) {\n        maxNodesPerDepth = this.state.depthNodes.depthZero.length;\n      }\n      if (this.state.depthNodes.depthPosOne.length > maxNodesPerDepth) {\n        maxNodesPerDepth = this.state.depthNodes.depthPosOne.length;\n      }\n      return (\n        this.state.graphAttr.initX +\n        maxNodesPerDepth * this.state.graphAttr.spaceX +\n        100\n      );\n    }\n    return 1000;\n  };\n\n  getStageHeight = () => {\n    if (this.state.depthNodes) {\n      if (this.state.depthNodes.depthPosOne.length > 0) {\n        return (\n          this.state.graphAttr.PosOneY + this.state.graphAttr.nodeHeight + 150\n        );\n      } else {\n        return (\n          this.state.graphAttr.ZeroY + this.state.graphAttr.nodeHeight + 150\n        );\n      }\n    } else {\n      return 200;\n    }\n  };\n\n  /****************************************************\n   *\n   *\n   *   EVENT HANDLERS\n   *\n   *\n   ****************************************************/\n\n  /* Node handling */\n  handleMouseOverNode = e => {\n    document.body.style.cursor = \"pointer\";\n    e.target.to({\n      strokeWidth: 8\n    });\n  };\n  handleMouseOutNode = e => {\n    document.body.style.cursor = \"default\";\n    e.target.to({\n      strokeWidth: 4\n    });\n  };\n\n  handlePageChange = e => {\n    // TODO: Fix this horrible solution for destroy undefined error for incestuous relationships\n    if (this.state.openInfoPage.incest && this.state.openInfoPage.incest.tf) {\n      this.props.relationshipClicked(e.target.attrs.id);\n      window.location.reload();\n    } else {\n      this.props.relationshipClicked(e.target.attrs.id);\n    }\n  };\n\n  handleInTextPageChange = id => {\n    // TODO: Fix this horrible solution for destroy undefined error for incestuous relationships\n    if (this.state.openInfoPage.incest && this.state.openInfoPage.incest.tf) {\n      this.props.relationshipClicked(id);\n      window.location.reload();\n    } else {\n      this.props.relationshipClicked(id);\n    }\n  };\n\n  /* Line handling (contested + unusual) */\n  handleMouseOverLine = e => {\n    // thicken the main line\n    e.target.to({\n      strokeWidth: 8,\n      opacity: 1\n    });\n    // if is incestuous and sameGen, thicken other line as well\n    /* Doesn't work for some reason \n    if (e.target.attrs.incest.type === \"sameGen\") {\n      let matchingLines = this.state.stageRef.find(e.target.attrs.name);\n      console.log(matchingLines, e.target.attrs.name, this.state.stageRef);\n    } */\n\n    // Deal with change of stroke colour when hovering over contestedUnusual connections\n    if (e.target.attrs.contestedUnusual.isContested) {\n      if (e.target.attrs.contestedUnusual.isUnusual) {\n        e.target.to({\n          stroke: \"#ff0000\"\n        });\n      } else {\n        e.target.to({\n          stroke: \"#000000\"\n        });\n      }\n    }\n    // thicken the nodes attached to the line\n    let nodeIDs = e.target.attrs.name.split(\",\");\n    nodeIDs.forEach(id => {\n      //Remove highlighting of icon border\n      let idSplit = id.split(\"_\")[0];\n      if (\n        idSplit !== \"autochthony\" &&\n        idSplit !== \"createdWithoutParents\" &&\n        idSplit !== \"createdByAgent\" &&\n        idSplit !== \"bornFromObject\" &&\n        idSplit !== \"parthenogenesis\" &&\n        id !== \"incest\"\n      ) {\n        let nodeWithID = this.state.stageRef.find(\".\" + id);\n        nodeWithID.to({\n          strokeWidth: 8\n        });\n        if (\n          e.target.attrs.contestedUnusual.isUnusual &&\n          e.target.attrs.unusual.tf\n        ) {\n          document.body.style.cursor = \"pointer\";\n          nodeWithID.to({\n            stroke: \"#ff0000\"\n          });\n        }\n        if (e.target.attrs.contested.tf) {\n          document.body.style.cursor = \"pointer\";\n          nodeWithID.to({\n            stroke: \"#0000ff\"\n          });\n        }\n        if (e.target.attrs.incest.tf) {\n          document.body.style.cursor = \"pointer\";\n          nodeWithID.to({\n            stroke: \"#3bb143\"\n          });\n        }\n      }\n    });\n\n    if (\n      e.target.attrs.contested.tf &&\n      e.target.attrs.contested.type === \"Contested Parentage\"\n    ) {\n      // Add \"OR\" icon to top right of every node that's contested here\n\n      e.target.attrs.contested.contestedMothers.forEach(p => {\n        if (this.state.stageRef.find(\".\" + p.targetID)[0]) {\n          let pAttrs = this.state.stageRef.find(\".\" + p.targetID)[0].attrs;\n          let ORText = new Konva.Text({\n            name: \"ORText\",\n            x: pAttrs.x + this.state.graphAttr.nodeWidth - 65,\n            y: pAttrs.y + 5,\n            text: \"OR\",\n            fontSize: 26,\n            fontStyle: \"bold\",\n            fill: \"#0000ff\",\n            width: 80,\n            height: 80,\n            align: \"center\"\n          });\n          this.state.stageRef.children[1].add(ORText);\n        }\n      });\n\n      e.target.attrs.contested.contestedFathers.forEach(p => {\n        if (this.state.stageRef.find(\".\" + p.targetID)[0]) {\n          let pAttrs = this.state.stageRef.find(\".\" + p.targetID)[0].attrs;\n          let ORText = new Konva.Text({\n            name: \"ORText\",\n            x: pAttrs.x + this.state.graphAttr.nodeWidth - 65,\n            y: pAttrs.y + 5,\n            text: \"OR\",\n            fontSize: 26,\n            fontStyle: \"bold\",\n            fill: \"#0000ff\",\n            width: 80,\n            height: 80,\n            align: \"center\"\n          });\n          this.state.stageRef.children[1].add(ORText);\n        }\n      });\n\n      /* let sumX = 0;\n      let numExistingContestNodes = 0;\n      let y = 0;\n      let padding = 40;\n      e.target.attrs.contested.contestedParents.forEach(p => {\n        if (this.state.stageRef.find(\".\" + p.targetID)[0]) {\n          let pAttrs = this.state.stageRef.find(\".\" + p.targetID)[0].attrs;\n          sumX = sumX + pAttrs.x;\n          numExistingContestNodes++;\n          y = pAttrs.y;\n        } else {\n          // Only occurs if the relationship is contested but the dsputed parent is not shown, e.g. Atreus\n          padding = 15;\n        }\n      });\n      let x =\n        (sumX + this.state.graphAttr.nodeWidth) / numExistingContestNodes -\n        padding;\n       let ORText = new Konva.Text({\n        name: \"ORText\",\n        x: x,\n        y: y + 30,\n        text: \"OR\",\n        fontSize: 15,\n        fontStyle: \"bold\",\n        fill: \"#0000ff\",\n        width: 80,\n        height: 80,\n        align: \"center\"\n      });\n      this.state.stageRef.children[1].add(ORText); */\n    } else if (\n      e.target.attrs.contested.tf &&\n      e.target.attrs.contested.type === \"Contested Legacy\"\n    ) {\n      this.state.entityData.relationships.CHILDREN.forEach(childGroup => {\n        childGroup.child.forEach(c => {\n          if (this.state.stageRef.find(\".\" + c.targetID)[0]) {\n            let pAttrs = this.state.stageRef.find(\".\" + c.targetID)[0].attrs;\n            let ORText = new Konva.Text({\n              name: \"ORText\",\n              x: pAttrs.x + this.state.graphAttr.nodeWidth - 65,\n              y: pAttrs.y + 5,\n              text: \"OR\",\n              fontSize: 26,\n              fontStyle: \"bold\",\n              fill: \"#0000ff\",\n              width: 80,\n              height: 80,\n              align: \"center\"\n            });\n            this.state.stageRef.children[1].add(ORText);\n          }\n        });\n      });\n      let mainEntity = this.state.stageRef.find(\n        \".\" + this.state.entityData.id\n      )[0].attrs;\n      let ORText = new Konva.Text({\n        name: \"ORText\",\n        x: mainEntity.x + this.state.graphAttr.nodeWidth / 2 - 10,\n        y: mainEntity.y + this.state.graphAttr.nodeHeight + 60,\n        text: \"OR\",\n        fontSize: 26,\n        fontStyle: \"bold\",\n        fill: \"#0000ff\",\n        width: 80,\n        height: 80,\n        align: \"center\"\n      });\n      this.state.stageRef.children[1].add(ORText);\n    }\n    // console.log(\"End\");\n  };\n\n  handleMouseOutLine = e => {\n    // console.log(e, \"Mouseout\");\n    // thin the main line\n    document.body.style.cursor = \"default\";\n    e.target.to({\n      strokeWidth: 4,\n      opacity:\n        e.target.attrs.unusual.tf ||\n        e.target.attrs.contested.tf ||\n        e.target.attrs.incest.tf\n          ? 1\n          : 0.3\n    });\n    // Deal with change of stroke colour when hovering over contestedUnusual connections\n    if (e.target.attrs.contestedUnusual.isContested) {\n      e.target.to({\n        stroke: \"#0000ff\"\n      });\n    }\n\n    // thin out the nodes attached to the line upon mouseout\n    let nodeDs = e.target.attrs.name.split(\",\");\n    nodeDs.forEach(id => {\n      let idSplit = id.split(\"_\")[0];\n      if (\n        idSplit !== \"autochthony\" &&\n        idSplit !== \"createdWithoutParents\" &&\n        idSplit !== \"createdByAgent\" &&\n        idSplit !== \"bornFromObject\" &&\n        idSplit !== \"parthenogenesis\"\n      ) {\n        this.state.stageRef.find(\".\" + id).to({\n          strokeWidth: 4,\n          stroke: \"#000000\"\n        });\n      }\n    });\n    if (e.target.attrs.contested.tf) {\n      this.state.stageRef.children[1].find(\".ORText\").remove();\n    }\n  };\n\n  handleClickedLine = e => {\n    if (\n      e.target.attrs.unusual.tf &&\n      e.target.attrs.contestedUnusual.isUnusual\n    ) {\n      //Rudimentary solution for scrolling up to the contested info page\n      if (\n        !this.state.openInfoPage.showContestPage &&\n        !this.state.openInfoPage.showUnusualPage &&\n        !this.state.openInfoPage.showIncestPage\n      ) {\n        window.scrollBy(-3000, -200);\n      } else {\n        window.scrollBy(-3000, -400);\n      }\n      this.setState({\n        openInfoPage: {\n          showContestPage: false,\n          contest: undefined,\n          showUnusualPage: true,\n          unusual: e.target.attrs.unusual,\n          showIncestPage: false,\n          incest: undefined\n        }\n      });\n    } else if (e.target.attrs.contested.tf) {\n      // let legend = document.getElementById(\"legend\");\n      // let pos = legend.getBoundingClientRect();\n      // let x = 0; //\n      // let y = pos.bottom;\n      // console.log(\"Current input\", pos);\n\n      //Rudimentary solution for scrolling up to the contested info page\n      if (\n        !this.state.openInfoPage.showContestPage &&\n        !this.state.openInfoPage.showUnusualPage &&\n        !this.state.openInfoPage.showIncestPage\n      ) {\n        window.scrollBy(-3000, -200);\n      } else {\n        window.scrollBy(-3000, -400);\n      }\n      this.setState({\n        openInfoPage: {\n          showContestPage: true,\n          contest: e.target.attrs.contested,\n          showUnusualPage: false,\n          unusual: undefined,\n          showIncestPage: false,\n          incest: undefined\n        }\n      });\n    } else if (e.target.attrs.incest.tf) {\n      if (\n        !this.state.openInfoPage.showContestPage &&\n        !this.state.openInfoPage.showUnusualPage &&\n        !this.state.openInfoPage.showIncestPage\n      ) {\n        window.scrollBy(-3000, -200);\n      } else {\n        window.scrollBy(-3000, -400);\n      }\n      this.setState({\n        openInfoPage: {\n          showContestPage: false,\n          contest: undefined,\n          showUnusualPage: false,\n          unusual: undefined,\n          showIncestPage: true,\n          incest: e.target.attrs.incest\n        }\n      });\n    } else {\n      this.setState({\n        openInfoPage: {\n          showContestPage: false,\n          contest: undefined,\n          showUnusualPage: false,\n          unusual: undefined,\n          showIncestPage: false,\n          incest: undefined\n        }\n      }); //  Is a normal relationship line, do nothing\n    }\n  };\n\n  // Clicked icons\n  handleClickedIcons = e => {\n    let unusual;\n    if (e.target.attrs.name.split(\"_\")[0] === \"autochthony\") {\n      //UPDATE TO ALLOW CASES OF DEPTHPOSONE CASES OF AUTOCHTHONY TOO\n      unusual = {\n        tf: true,\n        type: \"Autochthony\",\n        passage: e.target.attrs.info.passage,\n        child: this.state.id\n      };\n    } else if (e.target.attrs.name.split(\"_\")[0] === \"createdWithoutParents\") {\n      unusual = {\n        tf: true,\n        type: \"Created Without Parents\",\n        passage: e.target.attrs.info.passage,\n        child: this.state.id\n      };\n    } else if (e.target.attrs.name.split(\"_\")[0] === \"createdByAgent\") {\n      unusual = {\n        tf: true,\n        type: \"Created by Someone Else\",\n        passage: e.target.attrs.info.passage,\n        child: this.state.id\n      };\n    } else if (e.target.attrs.name.split(\"_\")[0] === \"bornFromObject\") {\n      unusual = {\n        tf: true,\n        type: \"Born from an Object\",\n        passage: e.target.attrs.info.passage,\n        child: this.state.id\n      };\n    } else if (e.target.attrs.name.split(\"_\")[0] === \"parthenogenesis\") {\n      unusual = {\n        tf: true,\n        type: \"Parthenogenesis\",\n        passage: e.target.attrs.info.passage,\n        child: this.state.id\n      };\n    }\n    //Rudimentary solution for scrolling up to the contested info page\n    if (\n      !this.state.openInfoPage.showContestPage &&\n      !this.state.openInfoPage.showUnusualPage &&\n      !this.state.openInfoPage.showIncestPage\n    ) {\n      window.scrollBy(-3000, -200);\n    } else {\n      window.scrollBy(-3000, -400);\n    }\n    this.setState({\n      openInfoPage: {\n        showContestPage: false,\n        contest: undefined,\n        showUnusualPage: true,\n        unusual: unusual,\n        showIncestPage: false,\n        incest: undefined\n      }\n\n      // For this.state.liveinks, split by \",\" and check if any of the arrays .includes(autochthony ID depth neg one)\n      // If so, put unususal: this.state.livelinkp(x) and chec if info page responds to\n      // Contested relationships\n    });\n  };\n\n  /****************************************************\n   *\n   *\n   *   RENDERING\n   *\n   *\n   ****************************************************/\n\n  render() {\n    //Icons for unusual relationships\n    const AutochthonyIcon = e => {\n      const [image] = useImage(require(\"./images/autochthony.png\"));\n      return (\n        <Image\n          image={image}\n          name={e.name}\n          info={this.state.entityData.unusual.autochthony}\n          x={e.x + 20}\n          y={e.y}\n          width={100}\n          height={80}\n          onClick={this.handleClickedIcons}\n          onMouseOver={this.handleMouseOverNode}\n          onMouseOut={this.handleMouseOutNode}\n        />\n      );\n    };\n    const CreatedWithoutParentsIcon = e => {\n      const [image] = useImage(require(\"./images/createdWithoutParents.png\"));\n      return (\n        <Image\n          image={image}\n          name={e.name}\n          info={this.state.entityData.unusual.createdWithoutParents}\n          x={e.x + 24}\n          y={e.y}\n          width={100}\n          height={80}\n          onClick={this.handleClickedIcons}\n          onMouseOver={this.handleMouseOverNode}\n          onMouseOut={this.handleMouseOutNode}\n        />\n      );\n    };\n    const CreatedByAgentIcon = e => {\n      const [image] = useImage(require(\"./images/createdByAgent.png\"));\n      return (\n        <Image\n          image={image}\n          name={e.name}\n          info={this.state.entityData.unusual.createdByAgent}\n          x={e.x - 40}\n          y={e.y}\n          width={100}\n          height={80}\n          onClick={this.handleClickedIcons}\n          onMouseOver={this.handleMouseOverNode}\n          onMouseOut={this.handleMouseOutNode}\n        />\n      );\n    };\n    const BornFromObjectIcon = e => {\n      const [image] = useImage(require(\"./images/bornFromObject.png\"));\n      return (\n        <Image\n          image={image}\n          name={e.name}\n          info={this.state.entityData.unusual.bornFromObject}\n          x={e.x - 40}\n          y={e.y}\n          width={80}\n          height={80}\n          onClick={this.handleClickedIcons}\n          onMouseOver={this.handleMouseOverNode}\n          onMouseOut={this.handleMouseOutNode}\n        />\n      );\n    };\n    const ParthenogenesisIcon = e => {\n      const [image] = useImage(require(\"./images/parthenogenesis.png\"));\n      return (\n        <Image\n          image={image}\n          name={e.name}\n          info={this.state.entityData.unusual.parthenogenesis}\n          x={e.x}\n          y={e.y - 30}\n          width={45}\n          height={70}\n          onClick={this.handleClickedIcons}\n          onMouseOver={this.handleMouseOverNode}\n          onMouseOut={this.handleMouseOutNode}\n        />\n      );\n    };\n    return (\n      <React.Fragment>\n        {/* Legend */}\n        <div style={{ textAlign: \"center\", marginBottom: \"2rem\" }} id=\"legend\">\n          <h1>Graph Legend</h1>\n          <img\n            alt=\"graph legend\"\n            src={require(\"./images/legend.png\")}\n            style={{ maxWidth: \"80%\" }}\n          ></img>\n          <p></p>Hover over the lines and icons to show the connections.\n          Clicking on the nodes will direct you to the graph for that node.\n          Clicking on coloured lines and icons shows you information for that\n          connection.\n        </div>\n\n        {/* Info pages for contested relationships */}\n        <div\n          style={{\n            margin: \"20px 96px 20px 96px\",\n            border: \"1px solid #000000\",\n            boxShadow: \"2px 2px 4px 2px #bbbbbb\",\n            background: \"#ffffff\"\n          }}\n          className={\n            this.state.openInfoPage.showContestPage ? \"\" : \"no-display\"\n          }\n          id=\"contestedInfoPage\"\n        >\n          <div\n            style={{\n              margin: \"20px\",\n              border: \"3px solid #0000ff\",\n              padding: \"2rem 4rem 4rem 4rem\"\n            }}\n          >\n            <p style={{ textAlign: \"center\", color: \"#808080\" }}>\n              Contested Tradition\n            </p>\n            <h2 style={{ textAlign: \"center\" }}>\n              {this.state.openInfoPage.contest\n                ? this.state.openInfoPage.contest.type\n                : \"\"}\n            </h2>\n            <p></p>\n            <p style={{ fontStyle: \"italic\", textAlign: \"center\" }}>\n              (inconsistencies between retellings of the tradition)\n            </p>\n            <p>\n              Contestation is an inherent part of Greek myth. Because the\n              ancient mythic tradition was tolerant of plurality, there were\n              frequently several variant traditions about who the parents of a\n              god or hero were.\n            </p>\n            <p>In this case, the contestation is:</p>\n            {this.state.openInfoPage.contest &&\n            this.state.openInfoPage.contest.type === \"Contested Parentage\" ? (\n              this.getContestedPermutations(this.state.openInfoPage.contest)\n            ) : (\n              // Dies without children contested\n              <div style={{ fontSize: \"1.3rem\", margin: \"1rem 0 1rem 0\" }}>\n                <span style={{ fontWeight: \"bold\" }}>\n                  {this.state.entityData.name}{\" \"}\n                </span>\n                has no children according to{\" \"}\n                {this.state.entityData.unusual &&\n                this.state.entityData.unusual.diesWithoutChildren.tf\n                  ? this.state.entityData.unusual.diesWithoutChildren.passage.map(\n                      m => {\n                        return this.getPassageLink(m);\n                      }\n                    )\n                  : \"\"}\n                <p></p>\n                However,\n                <p></p>\n                {this.state.entityData.relationships\n                  ? this.state.entityData.relationships.CHILDREN.map(cp => {\n                      return (\n                        <span>\n                          <span style={{ fontWeight: \"bold\" }}>\n                            {this.state.entityData.name}\n                          </span>{\" \"}\n                          has{\" \"}\n                          {cp.child.map(c => {\n                            return (\n                              <span>\n                                <span style={{ fontWeight: \"bold\" }}>\n                                  {c.target}{\" \"}\n                                </span>{\" \"}\n                                {c.passage.map(p => {\n                                  return this.getPassageLink(p);\n                                })}\n                                {cp.otherParentIDs.length > 0 ? (\n                                  <span>{\", \"}</span>\n                                ) : (\n                                  \"\"\n                                )}\n                              </span>\n                            );\n                          })}{\" \"}\n                          {cp.otherParentIDs.length > 0 ? (\n                            <span>with </span>\n                          ) : (\n                            \"\"\n                          )}\n                          {cp.otherParentIDs.map(p => {\n                            return p ===\n                              cp.otherParentIDs[cp.otherParentIDs.length - 1]\n                              ? getName(entities[p]) + \", \"\n                              : getName(entities[p]);\n                          })}\n                        </span>\n                      );\n                    })\n                  : \"\"}\n              </div>\n            )}\n          </div>\n        </div>\n        {/* Info pages for unusual relationships */}\n        {this.state.openInfoPage.unusual ? (\n          <div\n            style={{\n              margin: \"20px 96px 20px 96px\",\n              border: \"1px solid #000000\",\n              boxShadow: \"2px 2px 4px 2px #bbbbbb\",\n              background: \"#ffffff\"\n            }}\n            className={\n              this.state.openInfoPage.showUnusualPage ? \"\" : \"no-display\"\n            }\n            id=\"unusualInfoPage\"\n          >\n            <div\n              style={{\n                margin: \"20px\",\n                border: \"3px solid #ff0000\",\n                padding: \"2rem 4rem 4rem 4rem\",\n                position: \"relative\"\n              }}\n            >\n              <div style={{ position: \"absolute\", top: \"50px\", left: \"64px\" }}>\n                {this.getUnusualImage(this.state.openInfoPage.unusual.type)}\n              </div>\n              <p style={{ textAlign: \"center\", color: \"#808080\" }}>\n                Unusual relationship\n              </p>\n\n              <h2 style={{ textAlign: \"center\" }}>\n                {this.state.openInfoPage.unusual.type}\n              </h2>\n              <p></p>\n              <p>\n                {this.getUnusualExplanation(\n                  this.state.openInfoPage.unusual.type\n                )}\n              </p>\n              <p>In this case:</p>\n              <div\n                style={{\n                  fontSize: \"1.3rem\",\n                  margin: \"1rem 0 1rem 0\"\n                }}\n              >\n                <span style={{ fontWeight: \"bold\" }}>\n                  {this.state.entityData.name}\n                </span>\n                {this.state.openInfoPage.unusual.type === \"Born from an Object\"\n                  ? this.getUnusualVerb({\n                      type: this.state.openInfoPage.unusual.type,\n                      objectID: this.state.entityData.relationships.BORNFROM[0]\n                        .targetID\n                    })\n                  : this.state.openInfoPage.unusual.type ===\n                    \"Created by Someone Else\"\n                  ? this.getUnusualVerb({\n                      type: this.state.openInfoPage.unusual.type,\n                      objectID: this.state.entityData.relationships.CREATORS[0]\n                        .targetID\n                    })\n                  : this.getUnusualVerb(this.state.openInfoPage.unusual.type)}\n                {/*TODO: Fix for not just autochthony for current entity */}\n                {this.state.openInfoPage.unusual.passage.map((p, i) => {\n                  return <span> ({this.getPassageLink(p)}) </span>;\n                })}\n              </div>\n              {this.getOtherUnusualExamples(\n                this.state.entityData.id,\n                this.state.openInfoPage.unusual.type\n              ).length > 0 ? (\n                <React.Fragment>\n                  <div style={{ marginTop: \"4rem\", color: \"#808080\" }}>\n                    Some other examples of{\" \"}\n                    {this.state.openInfoPage.unusual.type}:\n                  </div>\n                  <ul>\n                    {this.getOtherUnusualExamples(\n                      this.state.entityData.id,\n                      this.state.openInfoPage.unusual.type\n                    ).map(id => {\n                      return (\n                        <li\n                          onClick={() => {\n                            this.handleInTextPageChange(id);\n                          }}\n                          style={{\n                            textDecoration: \"underline\",\n                            cursor: \"pointer\"\n                          }}\n                        >\n                          {getName(entities[id])}\n                        </li>\n                      );\n                    })}\n                  </ul>\n                </React.Fragment>\n              ) : (\n                <div style={{ marginTop: \"4rem\", color: \"#808080\" }}>\n                  There are no other examples of{\" \"}\n                  <span style={{ fontWeight: \"bold\" }}>\n                    {this.state.openInfoPage.unusual.type}\n                  </span>\n                </div>\n              )}\n            </div>\n          </div>\n        ) : (\n          \"\"\n        )}\n        {/* Info pages for incest relationships */}\n        {this.state.openInfoPage.incest ? (\n          <div\n            style={{\n              margin: \"20px 96px 20px 96px\",\n              border: \"1px solid #000000\",\n              boxShadow: \"2px 2px 4px 2px #bbbbbb\",\n              background: \"#ffffff\"\n            }}\n            className={this.state.openInfoPage.incest ? \"\" : \"no-display\"}\n            id=\"incestInfoPage\"\n          >\n            <div\n              style={{\n                margin: \"20px\",\n                border: \"3px solid #3bb143\",\n                padding: \"2rem 4rem 4rem 4rem\",\n                position: \"relative\"\n              }}\n            >\n              <h2 style={{ textAlign: \"center\" }}>\n                {this.state.openInfoPage.incest\n                  ? this.state.openInfoPage.incest.type === \"sameGen\"\n                    ? \"Sibling-Spousal Incest\"\n                    : \"Intergenerational Incest\"\n                  : \"\"}\n              </h2>\n              <p style={{ fontStyle: \"italic\", textAlign: \"center\" }}>\n                (relationships between close relatives in{\" \"}\n                {this.state.openInfoPage.incest\n                  ? this.state.openInfoPage.incest.type === \"sameGen\"\n                    ? \"the same \"\n                    : \"different \"\n                  : \"\"}{\" \"}\n                generations)\n              </p>\n              <p>\n                Greek myth is full of incestuous relationships. In Apollodoros,\n                they are particularly prominent in the early generations of the\n                gods.\n              </p>\n              <div style={{ fontSize: \"1.3rem\", margin: \"1rem 0 1rem 0\" }}>\n                <span style={{ fontWeight: \"bold\" }}>\n                  {this.state.openInfoPage.incest\n                    ? \" \" +\n                      getName(\n                        entities[this.state.openInfoPage.incest.involved[0]]\n                      ) +\n                      \" \"\n                    : \"\"}\n                </span>\n                {this.state.openInfoPage.incest ? (\n                  this.state.openInfoPage.incest.type === \"sameGen\" ? (\n                    <span>\n                      has a relationship with{\" \"}\n                      <span style={{ fontWeight: \"bold\" }}>\n                        {getName(\n                          entities[this.state.openInfoPage.incest.involved[1]]\n                        )}{\" \"}\n                      </span>\n                      which is an incestuous relationship.\n                    </span>\n                  ) : (\n                    \"is mentioned twice in this graph in different generations, meaning they are either involved in, or are a product of an incestuous inter-generational relationship.\"\n                  )\n                ) : (\n                  \"\"\n                )}\n              </div>\n              {this.getOtherUnusualExamples(\n                this.state.openInfoPage.incest.involved[0],\n                this.state.openInfoPage.incest.type\n              ).length > 0 ? (\n                <React.Fragment>\n                  <div style={{ marginTop: \"4rem\", color: \"#808080\" }}>\n                    Some other examples of incest:\n                  </div>\n                  <ul>\n                    {this.getOtherUnusualExamples(\n                      this.state.openInfoPage.incest.involved[0],\n                      this.state.openInfoPage.incest.type\n                    ).map(id => {\n                      return (\n                        <li\n                          onClick={() => {\n                            this.handleInTextPageChange(id);\n                          }}\n                          style={{\n                            textDecoration: \"underline\",\n                            cursor: \"pointer\"\n                          }}\n                        >\n                          {getName(entities[id])}\n                        </li>\n                      );\n                    })}\n                  </ul>\n                </React.Fragment>\n              ) : (\n                \"There are no other examples of incest\"\n              )}\n            </div>\n          </div>\n        ) : (\n          \"\"\n        )}\n        {/* Graph rendering with KonvajS */}\n        <Stage\n          ref=\"stage\"\n          width={this.getStageWidth()}\n          height={this.getStageHeight()}\n        >\n          <Layer>\n            {this.state.depthNodes.depthNegOne.map((e, i) =>\n              e.split(\"_\")[0] === \"bornFromObject\" &&\n              e.split(\"_\")[2] === \"NegOne\" ? (\n                <Text\n                  x={\n                    this.state.graphAttr.initX + this.state.graphAttr.spaceX * i\n                  }\n                  ref=\"text\"\n                  y={this.state.graphAttr.NegOneY}\n                  text={getName(objects[e.split(\"_\")[1]])}\n                  fontSize={18}\n                  fontFamily=\"Calibri\"\n                  fontStyle=\"bold\"\n                  fill=\"#808080\"\n                  width={this.state.graphAttr.nodeWidth}\n                  height={this.state.graphAttr.nodeHeight}\n                  padding={20}\n                  align=\"center\"\n                />\n              ) : (\n                <Text\n                  x={\n                    this.state.graphAttr.initX + this.state.graphAttr.spaceX * i\n                  }\n                  ref=\"text\"\n                  y={this.state.graphAttr.NegOneY}\n                  text={getName(entities[e])}\n                  fontSize={18}\n                  fontFamily=\"Calibri\"\n                  fontStyle=\"bold\"\n                  fill=\"#000\"\n                  width={this.state.graphAttr.nodeWidth}\n                  height={this.state.graphAttr.nodeHeight}\n                  padding={20}\n                  align=\"center\"\n                />\n              )\n            )}\n            {this.state.depthNodes.depthZero.map((e, i) => (\n              <Text\n                x={this.state.graphAttr.initX + this.state.graphAttr.spaceX * i}\n                ref=\"text\"\n                y={this.state.graphAttr.ZeroY}\n                text={getName(entities[e])}\n                fontSize={18}\n                fontFamily=\"Calibri\"\n                fontStyle=\"bold\"\n                fill=\"#000\"\n                width={this.state.graphAttr.nodeWidth}\n                height={this.state.graphAttr.nodeHeight}\n                padding={20}\n                align=\"center\"\n              />\n            ))}\n            {this.state.depthNodes.depthPosOne.map((e, i) => (\n              <Text\n                x={this.state.graphAttr.initX + this.state.graphAttr.spaceX * i}\n                ref=\"text\"\n                y={this.state.graphAttr.PosOneY}\n                text={getName(entities[e])}\n                fontSize={18}\n                fontFamily=\"Calibri\"\n                fontStyle=\"bold\"\n                fill=\"#000\"\n                width={this.state.graphAttr.nodeWidth}\n                height={this.state.graphAttr.nodeHeight}\n                padding={20}\n                align=\"center\"\n              />\n            ))}\n          </Layer>\n          <Layer>\n            {this.state.depthNodes.depthNegOne.map((e, i) =>\n              e === \"autochthony_NegOne\" ? (\n                <AutochthonyIcon\n                  name={e}\n                  x={\n                    this.state.graphAttr.initX + this.state.graphAttr.spaceX * i\n                  }\n                  y={this.state.graphAttr.NegOneY}\n                />\n              ) : e === \"createdWithoutParents_NegOne\" ? (\n                <CreatedWithoutParentsIcon\n                  name={e}\n                  x={\n                    this.state.graphAttr.initX + this.state.graphAttr.spaceX * i\n                  }\n                  y={this.state.graphAttr.NegOneY}\n                />\n              ) : e.split(\"_\")[0] === \"bornFromObject\" &&\n                e.split(\"_\")[2] === \"NegOne\" ? (\n                <Rect\n                  refs={\"rect\"}\n                  id={e}\n                  name={e}\n                  x={\n                    this.state.graphAttr.initX + this.state.graphAttr.spaceX * i\n                  }\n                  y={this.state.graphAttr.NegOneY}\n                  width={this.state.graphAttr.nodeWidth}\n                  height={this.state.graphAttr.nodeHeight}\n                  stroke=\"#808080\"\n                  strokeWidth={4}\n                  dash={[10, 5]}\n                />\n              ) : (\n                <Rect\n                  refs={\"rect\"}\n                  id={e}\n                  name={e}\n                  x={\n                    this.state.graphAttr.initX + this.state.graphAttr.spaceX * i\n                  }\n                  y={this.state.graphAttr.NegOneY}\n                  width={this.state.graphAttr.nodeWidth}\n                  height={this.state.graphAttr.nodeHeight}\n                  stroke=\"#000\"\n                  strokeWidth={4}\n                  onMouseOver={this.handleMouseOverNode}\n                  onMouseOut={this.handleMouseOutNode}\n                  onClick={this.handlePageChange}\n                />\n              )\n            )}\n            {this.state.depthNodes.depthZero.map((e, i) => (\n              <Rect\n                refs={\"rect\"}\n                id={e}\n                name={e}\n                x={this.state.graphAttr.initX + this.state.graphAttr.spaceX * i}\n                y={this.state.graphAttr.ZeroY}\n                width={this.state.graphAttr.nodeWidth}\n                height={this.state.graphAttr.nodeHeight}\n                stroke=\"#000\"\n                strokeWidth={4}\n                onMouseOver={this.handleMouseOverNode}\n                onMouseOut={this.handleMouseOutNode}\n                onClick={this.handlePageChange}\n              />\n            ))}\n            {this.state.depthNodes.depthPosOne.map((e, i) => (\n              <Rect\n                refs={\"rect\"}\n                id={e}\n                name={e}\n                x={this.state.graphAttr.initX + this.state.graphAttr.spaceX * i}\n                y={this.state.graphAttr.PosOneY}\n                width={this.state.graphAttr.nodeWidth}\n                height={this.state.graphAttr.nodeHeight}\n                stroke=\"#000\"\n                strokeWidth={4}\n                onMouseOver={this.handleMouseOverNode}\n                onMouseOut={this.handleMouseOutNode}\n                onClick={this.handlePageChange}\n              />\n            ))}\n            {this.state.lineLinks.map((e, i) => (\n              <Line\n                name={e.incest.tf ? \"incest,\" + e.name : e.name} // rudimentary deal with hovering error\n                points={e.points}\n                unusual={e.unusual}\n                incest={e.incest}\n                contested={e.contested}\n                contestedUnusual={{\n                  isContested: e.contestedUnusual,\n                  isUnusual: e.isUnusual\n                }}\n                stroke={\n                  e.contested.tf || e.contestedUnusual\n                    ? \"#0000ff\"\n                    : e.unusual.tf\n                    ? \"#ff0000\"\n                    : e.incest.tf\n                    ? \"#3bb143\"\n                    : \"#000000\"\n                }\n                opacity={\n                  e.unusual.tf || e.contested.tf || e.incest.tf ? 1 : 0.3\n                }\n                strokeWidth={4}\n                onMouseOver={this.handleMouseOverLine}\n                onMouseOut={this.handleMouseOutLine}\n                onClick={this.handleClickedLine}\n              />\n            ))}\n            {this.state.lineLinks.map((e, i) => (\n              <React.Fragment>\n                {e.unusual.type === \"Created by Someone Else\" && e.isUnusual ? (\n                  <CreatedByAgentIcon\n                    name={\"createdByAgent_NegOne\"}\n                    x={e.points[e.points.length / 2 - 1]}\n                    y={\n                      (this.state.graphAttr.NegOneY +\n                        this.state.graphAttr.ZeroY) /\n                        2 -\n                      20\n                    }\n                  />\n                ) : e.unusual.type === \"Born from an Object\" && e.isUnusual ? (\n                  <BornFromObjectIcon\n                    name={\n                      \"bornFromObject_\" +\n                      this.state.entityData.relationships.BORNFROM[0].targetID +\n                      \"_NegOne\"\n                    }\n                    x={e.points[e.points.length / 2 - 1]}\n                    y={\n                      (this.state.graphAttr.NegOneY +\n                        this.state.graphAttr.ZeroY) /\n                      2\n                    }\n                  />\n                ) : e.unusual.type === \"Parthenogenesis\" && e.isUnusual ? (\n                  <ParthenogenesisIcon\n                    name={\"parthenogenesis_NegOne\"}\n                    x={(e.points[0] + e.points[2]) / 2}\n                    y={(e.points[1] + e.points[3]) / 2}\n                  />\n                ) : (\n                  <React.Fragment></React.Fragment>\n                )}\n              </React.Fragment>\n            ))}\n          </Layer>\n        </Stage>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default EntityGraph;\n","import React from \"react\";\nimport \"./App.css\";\nimport \"./DataCards.scss\";\nimport queryString from \"querystring\";\nimport passages from \"./data/passages.json\";\nimport relationships from \"./data/relationships.json\";\nimport EntityGraph from \"./EntityGraph.jsx\";\nimport ReactGA from \"react-ga\";\nimport entities from \"./data/entities.json\";\nimport {\n  relationshipInfo,\n  entityInfo,\n  checkNoRelations,\n  getAlternativeNames,\n  getGender,\n  getName\n} from \"./DataCardHandler\";\nimport Pluralize from \"pluralize\";\n\ntype DatumProps = {\n  location: {\n    search: string;\n  };\n  history: {\n    push: ({}) => null;\n  };\n};\ntype DatumState = {\n  id: string;\n  name: string;\n  relationships: relationshipInfo;\n  members: { sub: any[]; super: any[] };\n  type: string;\n  validSearch: boolean;\n  unusual: {\n    autochthony: { tf: boolean; passage: any[] };\n    createdWithoutParents: { tf: boolean; passage: any[] };\n    createdByAgent: { tf: boolean; passage: any[]; agentID: string };\n    parthenogenesis: { tf: boolean; passage: any[] };\n    bornFromObject: { tf: boolean; passage: any[]; objectID: string };\n    diesWithoutChildren: { tf: boolean; passage: any[] };\n  };\n  alternativeName: { targetID: string; passage: any[] };\n};\n\nclass DataCards extends React.Component<DatumProps, DatumState> {\n  constructor(props: any) {\n    super(props);\n    // Dionysus is 8188175, use to test multiple names\n    // Atreus is 8187873\n    // Theseus is 8188822\n    // Agamemnon is 8182035\n    // Use Clytaimnestra example, 8188055\n    this.state = {\n      id: \"8182035\", // placeholder: Agamemnon\n      name: \"\",\n      relationships: {\n        MOTHERS: [],\n        FATHERS: [],\n        PARENTS: [],\n        CREATORS: [],\n        BORNFROM: [],\n        SIBLINGS: [],\n        TWIN: [],\n        SPOUSES: [],\n        CHILDREN: []\n      },\n      members: { sub: [], super: [] },\n      type: \"\",\n      validSearch: false,\n      unusual: {\n        autochthony: { tf: false, passage: [] },\n        createdWithoutParents: { tf: false, passage: [] },\n        createdByAgent: { tf: false, passage: [], agentID: \"\" },\n        parthenogenesis: { tf: false, passage: [] },\n        bornFromObject: { tf: false, passage: [], objectID: \"\" },\n        diesWithoutChildren: { tf: false, passage: [] }\n      },\n      alternativeName: { targetID: \"\", passage: [] }\n    };\n    /* this.getNameFromID = this.getNameFromID.bind(this);\n    this.checkNoRelations = this.checkNoRelations.bind(this);\n    this.reversedVerb = this.reversedVerb.bind(this);\n    this.getDataPoints = this.getDataPoints.bind(this); */\n    this.handleNameClicked = this.handleNameClicked.bind(this);\n    // this.handleContestClicked = this.handleContestClicked.bind(this);\n    /* this.getAlternativeNames = this.getAlternativeNames.bind(this); */\n  }\n\n  /*******************/\n  /* HELPER FUNCTIONS */\n  /*******************/\n\n  getPassageLink(passage: any) {\n    let id = passage.startID;\n    let author: string = passages[id].Author;\n    let title: string = passages[id].Title;\n    let start: string = passages[id].Passage;\n    let end: string = passage.endID;\n\n    // Dealing with multiple URNs\n    let URN: string = \"\";\n    let URNsplit = passages[id][\"CTS URN\"].split(\", \");\n    if (URNsplit.length >= 2) {\n      URN = URNsplit[1];\n    } else {\n      URN = passages[id][\"CTS URN\"];\n    }\n    URN = URN.replace(/grc2/, \"eng2\"); // View the existing passages CTS URN to english translation\n    URN = \"https://scaife.perseus.org/reader/\" + URN;\n    if (passage.endID !== \"\") {\n      end = passages[end].Passage;\n      URN = URN + \"-\" + end;\n    }\n\n    return (\n      <span>\n        {\"  (\"}\n        <a\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          href={URN}\n          style={{\n            color: \"grey\",\n            fontSize: \"0.8rem\"\n          }}\n        >\n          {author + \", \"}\n          <span style={{ fontStyle: \"italic\" }}>{title}</span> {start}\n          {start !== end && end !== \"\" ? \"-\" + end : \"\"}\n        </a>\n        {\")\"}\n      </span>\n    );\n  }\n\n  handleNameClicked(targetID: string) {\n    ReactGA.event({\n      category: \"NameClicked\",\n      action: \"User clicked on a name within the data card\"\n    });\n    window.scrollTo(0, 0);\n    this.props.history.push(\"/datacards?id=\" + targetID);\n  }\n\n  /* handleContestClicked(edge: any, id: string) {\n    console.log(\"edge\", edge, \"id\", id);\n    this.setState({\n      openInfoPage: { showContestPage: true, showUnusualPage: false }\n    });\n  } */\n\n  removeGrandparentDuplicates(grandparents: entityInfo[], g: entityInfo[]) {\n    //grandparents = the original grandparents list\n    //g = a list of new entities to add\n    for (let i = 0; i < g.length; i++) {\n      let duplicate = false;\n      let duplicateIndex = 0;\n      for (let j = 0; j < grandparents.length; j++) {\n        if (g[i].targetID === grandparents[j].targetID) {\n          duplicate = true;\n          duplicateIndex = j;\n          break;\n        }\n      }\n      if (duplicate) {\n        let newPassages = grandparents[duplicateIndex].passage.concat(\n          g[i].passage\n        );\n        grandparents[duplicateIndex].passage = newPassages;\n      } else {\n        grandparents.push(g[i]);\n      }\n    }\n    return grandparents;\n  }\n\n  getGrandparentDataPoints() {\n    let that = this;\n    let grandparents: entityInfo[] = [];\n    // Check all mother's mother and fathers\n    that.state.relationships.MOTHERS.forEach(m => {\n      grandparents = this.removeGrandparentDuplicates(\n        grandparents,\n        JSON.parse(relationships[m.targetID]).relationships.MOTHERS\n      );\n      grandparents = this.removeGrandparentDuplicates(\n        grandparents,\n        JSON.parse(relationships[m.targetID]).relationships.FATHERS\n      );\n      grandparents = this.removeGrandparentDuplicates(\n        grandparents,\n        JSON.parse(relationships[m.targetID]).relationships.PARENTS\n      );\n    });\n    that.state.relationships.FATHERS.forEach(f => {\n      grandparents = this.removeGrandparentDuplicates(\n        grandparents,\n        JSON.parse(relationships[f.targetID]).relationships.MOTHERS\n      );\n      grandparents = this.removeGrandparentDuplicates(\n        grandparents,\n        JSON.parse(relationships[f.targetID]).relationships.FATHERS\n      );\n      grandparents = this.removeGrandparentDuplicates(\n        grandparents,\n        JSON.parse(relationships[f.targetID]).relationships.PARENTS\n      );\n    });\n    //Remove duplicate grandparents\n    for (let i = 0; i < grandparents.length; i++) {\n      for (let j = i + 1; j < grandparents.length; j++) {}\n    }\n    //Add grandparent data points\n    if (grandparents.length > 0) {\n      return (\n        <div style={{ clear: \"both\" }}>\n          <div\n            style={{\n              fontWeight: \"bold\",\n              textTransform: \"uppercase\",\n              float: \"left\",\n              paddingRight: \"1rem\",\n              marginTop: \"0.5rem\"\n            }}\n          >\n            {grandparents.length === 1 ? \"GRANDPARENT:\" : \"GRANDPARENTS:\"}\n          </div>\n          <div style={{ float: \"left\", marginTop: \"0.5rem\" }}>\n            {grandparents.map(entity => {\n              return (\n                <div style={{ margin: \"0\" }}>\n                  <span>\n                    <div\n                      className=\"entity-button\"\n                      onClick={() => this.handleNameClicked(entity.targetID)}\n                    >\n                      <span style={{ textDecoration: \"underline\" }}>\n                        {entity.target}\n                      </span>\n                    </div>\n                  </span>\n                </div>\n              );\n            })}\n          </div>\n        </div>\n      );\n    } else {\n      return <span></span>;\n    }\n\n    // Create grandparent title data point\n    // Check all mother's mother & father IDs\n    // Check all father's mother  & father IDs\n    // Generate the data points using getDataPoints and getUnusualConnectionsetc. below\n  }\n\n  getPluralization(relationship: string) {\n    if (relationship === \"PART OF\") {\n      return relationship + \": \";\n    } else if (\n      relationship === \"MOTHERS\" ||\n      relationship === \"FATHERS\" ||\n      relationship === \"PARENTS\"\n    ) {\n      return Pluralize.singular(relationship) + \": \";\n    } else if (\n      relationship === \"CHILDREN\" &&\n      this.state.relationships[relationship].length === 1 &&\n      this.state.relationships[relationship][0].child.length > 1\n    ) {\n      return relationship + \": \";\n    } else {\n      if (\n        this.state.relationships[relationship].length === 1 ||\n        this.state.relationships[relationship].length === 0\n      ) {\n        return Pluralize.singular(relationship) + \": \";\n      } else {\n        return relationship + \": \";\n      }\n    }\n  }\n\n  entityNameAndPassage(\n    entity: any,\n    relationship: string,\n    showPassage: boolean\n  ) {\n    let firstElement;\n    if (relationship === \"PART OF\") {\n      firstElement = this.state.members.super[0];\n    } else {\n      firstElement = this.state.relationships[relationship][0];\n    }\n    return (\n      <div>\n        <div\n          className=\"entity-button\"\n          onClick={() => this.handleNameClicked(entity.targetID)}\n        >\n          {entity !== firstElement &&\n          relationship !== \"SIBLINGS\" &&\n          relationship !== \"SPOUSES\" ? (\n            <span>OR </span>\n          ) : (\n            \"\"\n          )}\n          <span style={{ textDecoration: \"underline\" }}>{entity.target}</span>\n        </div>\n        {showPassage\n          ? entity.passage.map(passage => {\n              return this.getPassageLink(passage);\n            })\n          : \"\"}\n      </div>\n    );\n  }\n\n  objectNameAndPassage(entity: any) {\n    return (\n      <div>\n        <div className=\"entity-button\">\n          {entity !== this.state.relationships[\"BORNFROM\"][0] ? (\n            <span>OR </span>\n          ) : (\n            \"\"\n          )}\n          {entity.target}\n        </div>\n        {entity.passage.map(passage => {\n          return this.getPassageLink(passage);\n        })}\n      </div>\n    );\n  }\n\n  getDataPoints(relationship: any) {\n    // FATHER: autochthony, parthenogenesis & multiple fathers\n    if (relationship === \"FATHERS\") {\n      if (this.state.unusual.parthenogenesis.tf) {\n        return (\n          <div style={{ clear: \"both\" }}>\n            <div className=\"relationship-header\">\n              {this.getPluralization(relationship)}\n            </div>\n\n            <div style={{ float: \"left\", marginTop: \"0.5rem\", margin: \"0\" }}>\n              {this.state.relationships[relationship].map(e => {\n                return this.entityNameAndPassage(e, relationship, true);\n              })}\n              {/* parthenogenesis part */}\n              <div className=\"entity-button\">\n                {this.state.relationships[relationship].length === 0\n                  ? \"by parthenogenesis\"\n                  : \"OR by parthenogenesis\"}\n              </div>\n              {this.state.unusual.parthenogenesis.passage.map(passage => {\n                return this.getPassageLink(passage);\n              })}\n            </div>\n          </div>\n        );\n      } else if (this.state.unusual.autochthony.tf) {\n        return (\n          <div style={{ clear: \"both\" }}>\n            <div className=\"relationship-header\">\n              {this.getPluralization(relationship)}\n            </div>\n            <div style={{ float: \"left\", marginTop: \"0.5rem\", margin: \"0\" }}>\n              {this.state.relationships[relationship].map(e => {\n                return this.entityNameAndPassage(e, relationship, true);\n              })}\n              {/* autochthony part */}\n              <div className=\"entity-button\">\n                {this.state.relationships[relationship].length === 0\n                  ? \"by autochthony\"\n                  : \"OR by autochthony\"}\n              </div>\n              {this.state.unusual.autochthony.passage.map(passage => {\n                return this.getPassageLink(passage);\n              })}\n            </div>\n          </div>\n        );\n      } else if (this.state.unusual.createdWithoutParents.tf) {\n        return (\n          <div style={{ clear: \"both\" }}>\n            <div className=\"relationship-header\">\n              {this.getPluralization(relationship)}\n            </div>\n            <div style={{ float: \"left\", marginTop: \"0.5rem\", margin: \"0\" }}>\n              {this.state.relationships[relationship].map(e => {\n                return this.entityNameAndPassage(e, relationship, true);\n              })}\n              {/* created without parents part */}\n              <div className=\"entity-button\">\n                {this.state.relationships[relationship].length === 0\n                  ? \"created without parents\"\n                  : \"OR created without parents\"}\n              </div>\n              {this.state.unusual.createdWithoutParents.passage.map(passage => {\n                return this.getPassageLink(passage);\n              })}\n            </div>\n          </div>\n        );\n      } else if (this.state.relationships[relationship].length > 0) {\n        return (\n          <div style={{ clear: \"both\" }}>\n            <div className=\"relationship-header\">\n              {this.getPluralization(relationship)}\n            </div>\n            <div style={{ float: \"left\", marginTop: \"0.5rem\", margin: \"0\" }}>\n              {this.state.relationships[relationship].map(e => {\n                return this.entityNameAndPassage(e, relationship, true);\n              })}\n            </div>\n          </div>\n        );\n      } else {\n        return <span></span>;\n      }\n    }\n\n    // MOTHER: autochthony, creation without parents\n    else if (relationship === \"MOTHERS\") {\n      if (this.state.unusual.createdWithoutParents.tf) {\n        return (\n          <div style={{ clear: \"both\" }}>\n            <div className=\"relationship-header\">\n              {this.getPluralization(relationship)}\n            </div>\n            <div style={{ float: \"left\", marginTop: \"0.5rem\", margin: \"0\" }}>\n              {this.state.relationships[relationship].map(e =>\n                this.entityNameAndPassage(e, relationship, true)\n              )}\n              <div className=\"entity-button\">\n                {this.state.relationships[relationship].length === 0\n                  ? \"created without parents\"\n                  : \"OR created without parents\"}\n              </div>\n              {this.state.unusual.createdWithoutParents.passage.map(passage => {\n                return this.getPassageLink(passage);\n              })}\n            </div>\n          </div>\n        );\n      } else if (this.state.unusual.autochthony.tf) {\n        return (\n          <div style={{ clear: \"both\" }}>\n            <div className=\"relationship-header\">\n              {this.getPluralization(relationship)}\n            </div>\n            <div style={{ float: \"left\", marginTop: \"0.5rem\", margin: \"0\" }}>\n              {this.state.relationships[relationship].map(e => {\n                return this.entityNameAndPassage(e, relationship, true);\n              })}\n              {/* autochthony part */}\n              <div className=\"entity-button\">\n                {this.state.relationships[relationship].length === 0\n                  ? \"by autochthony\"\n                  : \"OR by autochthony\"}\n              </div>\n              {this.state.unusual.autochthony.passage.map(passage => {\n                return this.getPassageLink(passage);\n              })}\n            </div>\n          </div>\n        );\n      } else if (this.state.relationships[relationship].length > 0) {\n        return (\n          <div style={{ clear: \"both\" }}>\n            <div className=\"relationship-header\">\n              {this.getPluralization(relationship)}\n            </div>\n            <div style={{ float: \"left\", marginTop: \"0.5rem\", margin: \"0\" }}>\n              {this.state.relationships[relationship].map(e => {\n                return this.entityNameAndPassage(e, relationship, true);\n              })}\n            </div>\n          </div>\n        );\n      } else {\n        return <span></span>;\n      }\n    }\n\n    //CREATORS:\n    else if (\n      relationship === \"CREATORS\" &&\n      this.state.relationships[relationship].length > 0\n    ) {\n      return (\n        <div style={{ clear: \"both\" }}>\n          <div className=\"relationship-header\">\n            {this.getPluralization(relationship)}\n          </div>\n          <div style={{ float: \"left\", marginTop: \"0.5rem\", margin: \"0\" }}>\n            {this.state.relationships[relationship].map(e => {\n              return this.entityNameAndPassage(e, relationship, true);\n            })}\n          </div>\n        </div>\n      );\n    }\n\n    //BORN FROM:\n    else if (\n      relationship === \"BORNFROM\" &&\n      this.state.relationships[relationship].length > 0\n    ) {\n      return (\n        <div style={{ clear: \"both\" }}>\n          <div className=\"relationship-header\">BORN FROM: </div>\n          <div style={{ float: \"left\", marginTop: \"0.5rem\", margin: \"0\" }}>\n            {this.state.relationships[relationship].map(e => {\n              return this.objectNameAndPassage(e);\n            })}\n          </div>\n        </div>\n      );\n    }\n\n    //CHILDREN:\n    else if (\n      relationship === \"CHILDREN\" &&\n      (this.state.relationships[relationship].length > 0 ||\n        this.state.unusual.diesWithoutChildren.tf)\n    ) {\n      return (\n        <div style={{ clear: \"both\" }}>\n          <div className=\"relationship-header\">\n            {this.getPluralization(relationship)}\n          </div>\n          <div style={{ float: \"left\", marginTop: \"0.5rem\", margin: \"0\" }}>\n            {this.state.unusual.diesWithoutChildren.tf ? (\n              <div>\n                <div className=\"entity-button\">dies without children</div>\n                {this.state.unusual.diesWithoutChildren.passage.map(passage => {\n                  return this.getPassageLink(passage);\n                })}\n                {this.state.relationships.CHILDREN.length > 0 ? (\n                  <div>OR</div>\n                ) : (\n                  \"\"\n                )}\n              </div>\n            ) : (\n              <span></span>\n            )}\n\n            {this.state.relationships[relationship].map(entity => (\n              <div>\n                <div className=\"entity-child-wrapper\">\n                  <div className=\"entity-child-grouping\">\n                    {this.getChildParentGrouped(entity)}\n                  </div>\n                  {this.getOtherParentText(entity.otherParentIDs)}\n                </div>\n                <p></p>\n              </div>\n            ))}\n          </div>\n        </div>\n      );\n\n      //SPOUSES, TWINS, AND SIBLINGS\n    } else if (\n      (relationship === \"SPOUSES\" ||\n        relationship === \"TWIN\" ||\n        relationship === \"SIBLINGS\") &&\n      this.state.relationships[relationship].length > 0\n    ) {\n      return (\n        <div style={{ clear: \"both\" }}>\n          <div className=\"relationship-header\">\n            {this.getPluralization(relationship)}\n          </div>\n          <div style={{ float: \"left\", marginTop: \"0.5rem\", margin: \"0\" }}>\n            {this.state.relationships[relationship].map(e => {\n              return this.entityNameAndPassage(e, relationship, true);\n            })}\n          </div>\n        </div>\n      );\n    }\n\n    //PART OF (COLLECTIVE)\n    else if (relationship === \"PART OF\") {\n      return (\n        <div style={{ clear: \"both\" }}>\n          <div className=\"relationship-header\">PART OF: </div>\n          <div style={{ float: \"left\", marginTop: \"0.5rem\", margin: \"0\" }}>\n            {this.state.members.super.map(e => {\n              return this.entityNameAndPassage(e, relationship, true);\n            })}\n          </div>\n        </div>\n      );\n    }\n\n    //OTHER UNUSUAL RELATIONSHIP TYPES: CREATORS\n    else {\n      return <div></div>;\n    }\n  }\n\n  getChildParentGrouped(group: any) {\n    return group.child.map(c => {\n      return (\n        <div\n          className=\"entity-child-button\"\n          onClick={() => this.handleNameClicked(c.targetID)}\n        >\n          {c.target}\n        </div>\n      );\n    });\n  }\n\n  getOtherParentText(otherParentIDs: any[]) {\n    if (otherParentIDs.length === 0) {\n      return <div className=\"entity-parent-grouping\"></div>;\n    } else {\n      return (\n        <div className=\"entity-parent-grouping\">\n          with{\" \"}\n          {otherParentIDs.map(pID => {\n            return (\n              <span>\n                <span\n                  className=\"entity-child-button\"\n                  style={{ margin: 0 }}\n                  onClick={() => this.handleNameClicked(pID)}\n                >\n                  {getName(entities[pID])}\n                </span>\n                {otherParentIDs.indexOf(pID) === otherParentIDs.length - 1\n                  ? \"\"\n                  : \" OR \"}\n              </span>\n            );\n          })}\n        </div>\n      );\n    }\n  }\n\n  getCollectiveMembers() {\n    let that = this;\n    if (that.state.members.sub.length !== 0) {\n      return (\n        <div style={{ marginTop: \"3rem\", textAlign: \"center\" }}>\n          <div\n            style={{\n              fontWeight: \"bold\",\n              textTransform: \"uppercase\",\n              textDecoration: \"underline\",\n              marginBottom: \"0.5rem\",\n              marginTop: \"5rem\"\n            }}\n          >\n            MEMBERS:\n          </div>\n          {that.state.members.sub.map(member => {\n            return (\n              <div style={{ margin: \"0\" }}>\n                <span\n                  className=\"collective-button\"\n                  onClick={() => this.handleNameClicked(member.targetID)}\n                >\n                  {member.target}\n                </span>\n                {member.passage.map(passage => {\n                  return this.getPassageLink(passage);\n                })}\n              </div>\n            );\n          })}\n        </div>\n      );\n    }\n  }\n\n  getCollectiveSubheading(id: string) {\n    let relation = getGender(id) === \"Female\" ? \"daughters\" : \"sons\";\n    // How to deal with multiple of the same ID in the entities?\n    let parents = getName(\n      entities[entities[id][\"Collective (geneal.): children of ID\"]]\n    );\n    let otherParents = \"\";\n    if (entities[id][\"Other collective parent ID\"]) {\n      otherParents = getName(\n        entities[entities[id][\"Other collective parent ID\"]]\n      );\n    }\n    let divineParents = \"\";\n    if (entities[id][\"Collective (geneal.): divine father ID\"]) {\n      divineParents = getName(\n        entities[entities[id][\"Collective (geneal.): divine father ID\"]]\n      );\n    }\n    /* let parents: { mothers: string; fathers: string } = {\n      mothers: \"\",\n      fathers: \"\"\n    };\n    for (let i = 0; i < this.state.relationships.MOTHERS.length; i++) {\n      if (parents.mothers === \"\") {\n        parents.mothers = this.state.relationships.MOTHERS[i].target;\n      } else {\n        parents.mothers =\n          parents.mothers + \" OR \" + this.state.relationships.MOTHERS[i].target;\n      }\n    }\n    for (let i = 0; i < this.state.relationships.FATHERS.length; i++) {\n      if (parents.fathers === \"\") {\n        parents.fathers = this.state.relationships.FATHERS[i].target;\n      } else {\n        parents.fathers =\n          parents.fathers + \" OR \" + this.state.relationships.FATHERS[i].target;\n      }\n    }\n    let finalString = \"\";\n    if (parents.mothers !== \"\" && parents.fathers !== \"\") {\n      finalString = parents.mothers + \" and \" + parents.fathers;\n    } else if (parents.mothers !== \"\" && parents.fathers === \"\") {\n      finalString = parents.mothers;\n    } else if (parents.mothers === \"\" && parents.fathers !== \"\") {\n      finalString = parents.fathers;\n    } else {\n    } */\n\n    let entityID: string = \"\";\n    // Deal with Lycaon not showing up in Sons of Lycaon card\n    if (this.state.id === \"9615105\") {\n      entityID = \"8189700\";\n    } else {\n      entityID = entities[id][\"Collective (geneal.): children of ID\"];\n    }\n    return (\n      <div id=\"datacard-alternativename\">\n        The {relation} of{\" \"}\n        <span\n          style={{ textDecoration: \"underline\", cursor: \"pointer\" }}\n          onClick={() => this.handleNameClicked(entityID)}\n        >\n          {getName(entities[entityID])}\n        </span>\n        {otherParents === \"\" ? (\n          \"\"\n        ) : (\n          <span>\n            {\" \"}\n            OR{\" \"}\n            <span\n              style={{ textDecoration: \"underline\", cursor: \"pointer\" }}\n              onClick={() =>\n                this.handleNameClicked(\n                  entities[id][\"Other collective parent ID\"]\n                )\n              }\n            >\n              {getName(entities[entities[id][\"Other collective parent ID\"]])}\n            </span>\n          </span>\n        )}{\" \"}\n        {divineParents === \"\" ? (\n          \"\"\n        ) : (\n          <span>\n            {\" \"}\n            OR{\" \"}\n            <span\n              style={{ textDecoration: \"underline\", cursor: \"pointer\" }}\n              onClick={() =>\n                this.handleNameClicked(\n                  entities[id][\"Collective (geneal.): divine father ID\"]\n                )\n              }\n            >\n              {getName(\n                entities[entities[id][\"Collective (geneal.): divine father ID\"]]\n              )}\n            </span>\n          </span>\n        )}\n      </div>\n    );\n  }\n\n  getAlternativePage() {\n    if (\n      this.state.alternativeName.targetID !== \"\" &&\n      this.state.alternativeName.passage !== []\n    ) {\n      return (\n        <div\n          id=\"datacard-alternativename\"\n          className={\n            this.state.alternativeName.targetID === \"\" ||\n            this.state.alternativeName.passage === []\n              ? \"no-display\"\n              : \"\"\n          }\n        >\n          Alternative name for{\" \"}\n          {this.state.alternativeName.targetID === \"\" ? (\n            \"\"\n          ) : (\n            <span>\n              <span\n                className=\"entity-alt-button\"\n                onClick={() =>\n                  this.handleNameClicked(this.state.alternativeName.targetID)\n                }\n              >\n                {getName(entities[this.state.alternativeName.targetID])}\n              </span>\n              {this.state.alternativeName.passage.map(passage => {\n                return this.getPassageLink(passage);\n              })}\n            </span>\n          )}\n        </div>\n      );\n    } else {\n      return null;\n    }\n  }\n\n  /*******************/\n  /* SETUP FUNCTIONS */\n  /*******************/\n\n  componentDidMount() {\n    const params = queryString.parse(this.props.location.search.slice(1));\n    const id = params.id as string;\n    if (!params.id) {\n      // Handle bad url\n      //@ts-ignore\n      this.setState({ validSearch: false });\n    } else {\n      //Substitute with ID\n      let newState = JSON.parse(relationships[id]);\n      this.setState({\n        id: newState.id,\n        relationships: newState.relationships,\n        members: newState.members,\n        name: newState.name,\n        type: newState.type,\n        validSearch: newState.validSearch,\n        alternativeName: newState.alternativeName,\n        unusual: newState.unusual\n      });\n    }\n  }\n\n  componentDidUpdate() {\n    const params = queryString.parse(this.props.location.search.slice(1));\n    const id = params.id as string;\n    if (!params.id) {\n      // Handle bad url\n      //@ts-ignore\n      this.setState({ validSearch: false });\n    } else if (this.state.id !== id) {\n      //Substitute with ID\n      let newState = JSON.parse(relationships[id]);\n      this.setState({\n        id: newState.id,\n        relationships: newState.relationships,\n        members: newState.members,\n        name: newState.name,\n        type: newState.type,\n        validSearch: newState.validSearch,\n        alternativeName: newState.alternativeName,\n        unusual: newState.unusual\n      });\n    }\n  }\n\n  /*************/\n  /* RENDERING */\n  /*************/\n\n  render() {\n    return (\n      <React.Fragment>\n        <div\n          className={this.state.validSearch ? \"no-display\" : \"\"}\n          style={{ textAlign: \"center\", padding: \"3rem\" }}\n        >\n          No profiles have been selected. Try using the Search function.\n        </div>\n        <div className={this.state.validSearch ? \"\" : \"no-display\"}>\n          <div\n            style={{\n              margin: \"1rem 6rem 3rem 6rem\",\n              padding: \"3rem\",\n              display: \"flow-root\",\n              border: \"solid 1px black\"\n            }}\n          >\n            <div style={{ textAlign: \"center\" }}>\n              {/* getEntityType(this.state.id)*/}\n            </div>\n            <div id=\"datacard-heading\">{this.state.name}</div>\n            <div id=\"datacard-othernames\">\n              {getAlternativeNames(this.state.id)}\n            </div>\n            <div id=\"datacard-mantoID\">MANTO ID: {this.state.id}</div>\n            <div\n              id=\"datacard-othernames\"\n              className={getGender(this.state.id) === \"\" ? \"no-display\" : \"\"}\n            >\n              Gender: {getGender(this.state.id)}\n            </div>\n            <p></p>\n            {/* If no data is available for the subject */}\n            <div\n              className={\n                checkNoRelations(this.state.relationships) ? \"\" : \"no-display\"\n              }\n            ></div>\n            {/* If current entity is an alternative name for an existing entity */}\n            <div>{this.getAlternativePage()}</div>\n            {/* If data is available for the subject */}\n            {this.state.relationships[\"MOTHERS\"].length +\n              this.state.relationships[\"FATHERS\"].length +\n              this.state.relationships[\"PARENTS\"].length >\n            0 ? (\n              <div>{this.getGrandparentDataPoints()}</div>\n            ) : (\n              \"\"\n            )}\n            {entities[this.state.id][\"Type of entity\"] ===\n            \"Collective (genealogical)\"\n              ? this.getCollectiveSubheading(this.state.id)\n              : Object.keys(this.state.relationships).map(key => {\n                  return <div key={key}>{this.getDataPoints(key)}</div>;\n                })}\n            <div></div>\n            {this.state.members.super.length !== 0 ? (\n              <div>{this.getDataPoints(\"PART OF\")}</div>\n            ) : (\n              \"\"\n            )}\n            <div>{this.getCollectiveMembers()}</div>\n          </div>\n        </div>\n        <div\n          className={\n            entities[this.state.id][\"Type of entity\"] === \"Agent\"\n              ? \"\"\n              : \"no-display\"\n          }\n        >\n          {/* Entity Graph */}\n          <EntityGraph\n            relationshipClicked={this.handleNameClicked}\n            id={this.state.id}\n          />\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default DataCards;\n","import React from \"react\";\nimport \"./App.css\";\nimport \"./Modal.scss\";\nimport Header from \"./Header\";\nimport Search from \"./Search\";\nimport DataCards from \"./DataCards\";\nimport Modal from \"react-modal\";\n\nimport {\n  HashRouter as Router,\n  Route,\n  Link,\n  Switch,\n  Redirect\n} from \"react-router-dom\";\n\nconst customStyles = {\n  content: {\n    top: \"30%\",\n    left: \"35%\",\n    right: \"30%\",\n    bottom: \"0\",\n    marginRight: \"-40%\",\n    transform: \"translate(-30%, -30%)\"\n  }\n};\n\nclass App extends React.Component<{}, { subjectID: string; open: boolean }> {\n  constructor(props: any) {\n    super(props);\n    this.state = {\n      subjectID: \"\",\n      open: false\n    };\n    this.openModal = this.openModal.bind(this);\n    this.closeModal = this.closeModal.bind(this);\n  }\n\n  changeEntity(ID: string) {\n    this.setState({ subjectID: ID });\n  }\n\n  openModal() {\n    this.setState({ open: true });\n  }\n\n  closeModal() {\n    this.setState({ open: false });\n  }\n\n  render() {\n    return (\n      <div className=\"homepageBackground\" style={{ position: \"relative\" }}>\n        {/* Router links */}\n        <Router>\n          {/* Modal instructions popup */}\n          <div onClick={this.openModal}>\n            <div>\n              <img\n                src={require(\"./images/help.png\")}\n                alt=\"How to use\"\n                className=\"help-icon\"\n                style={{\n                  margin: \"2rem 0 0 1rem\",\n                  position: \"absolute\",\n                  height: \"30px\",\n                  width: \"auto\"\n                }}\n              ></img>\n            </div>\n            <div\n              style={{\n                fontWeight: \"bold\",\n                fontSize: \"16px\",\n                color: \"#808080\",\n                display: \"inline\",\n                margin: \"2.3rem 0 0 3.2rem\",\n                float: \"left\",\n                cursor: \"pointer\"\n              }}\n            >\n              How to use\n            </div>\n          </div>\n          <Modal\n            isOpen={this.state.open}\n            onRequestClose={this.closeModal}\n            style={customStyles}\n            ariaHideApp={false}\n            contentLabel=\"How to use MANTO\"\n          >\n            <div\n              style={{\n                position: \"absolute\",\n                right: 10,\n                top: 10,\n                fontWeight: \"bold\",\n                cursor: \"pointer\"\n              }}\n              onClick={this.closeModal}\n            >\n              X\n            </div>\n            <div\n              style={{\n                paddingBottom: \"20px\",\n                borderBottom: \"2px solid #DEDEDE\"\n              }}\n            >\n              <h2>How to use the MANTO website:</h2>\n            </div>\n            <div\n              style={{\n                paddingBottom: \"20px\",\n                borderBottom: \"2px solid #DEDEDE\"\n              }}\n            >\n              <h3>Overview of the project:</h3>\n              Overview of Project: MANTO (link: manto-myth.org) is an ambitious\n              initiative to collect, organize, and visualize the data of Greek\n              myth. It is a collaboration between researchers and students at\n              the Australian National University, and the University of New\n              Hampshire. Our aim is to digitally reproduce all of the myriad\n              complex relationships that made up the mythic storyworld in\n              ancient texts. This is a work-in-progress. The genealogical tool\n              uses just a subset of the available data: entities and ties\n              collected from Apollodoros Library (link:\n              <a\n                href=\"https://en.wikipedia.org/wiki/Bibliotheca_(Pseudo-Apollodorus)\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                https://en.wikipedia.org/wiki/Bibliotheca_(Pseudo-Apollodorus)\n              </a>\n              )(c. 2nd century AD) that express family relationships.\n            </div>\n            <div\n              style={{\n                paddingBottom: \"20px\",\n                borderBottom: \"2px solid #DEDEDE\"\n              }}\n            >\n              <h3>How to use this tool:</h3>\n              This genealogical tool is based on the three surviving books of\n              Apollodoros Library and the fragmentary Epitome of the later\n              books. The dataset consists of all mythic characters who appear in\n              the work and captures all explicit connections of blood or\n              marriage mentioned. The database adopts the spelling conventions\n              of Smith and Trzaskomas 2007 translation (link:\n              <a\n                href=\"https://books.google.com.au/books?id=s8pgDwAAQBAJ&source=gbs_book_other_versions\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                https://books.google.com.au/books?id=s8pgDwAAQBAJ&source=gbs_book_other_versions)\n              </a>\n              . To search it, use c rather than k, ch rather than kh,\n              -os rather than -us, ai rather than ae etc. For ease of\n              use, some more familiar names appear also in Latinized or\n              Anglicized form (e.g. Helen, Priam, Achilles, Medusa).\n            </div>\n            <div\n              style={{\n                paddingBottom: \"20px\",\n                borderBottom: \"2px solid #DEDEDE\"\n              }}\n            >\n              <h3>\n                <img\n                  src={require(\"./images/autochthony.png\")}\n                  alt=\"autochthony\"\n                  style={{ maxWidth: \"2%\", height: \"auto\" }}\n                ></img>{\" \"}\n                Autochthony\n              </h3>\n              Local heroes are sometimes said to have sprung up out of the\n              ground. These stories often strengthen a communitys claim to long\n              and uncontested ownership of a territory.{\" \"}\n              <span style={{ fontStyle: \"italic\", color: \"#808080\" }}>\n                Example: Cecrops, Pelasgos, Orion are born by autochthony\n              </span>\n            </div>\n            <div\n              style={{\n                paddingBottom: \"20px\",\n                borderBottom: \"2px solid #DEDEDE\"\n              }}\n            >\n              <h3>\n                <img\n                  src={require(\"./images/createdWithoutParents.png\")}\n                  alt=\"created without parents\"\n                  style={{ maxWidth: \"2%\", height: \"auto\" }}\n                ></img>{\" \"}\n                Created Without Parents\n              </h3>\n              At the very beginnings of mythical time, some primeval gods \n              often personifications of basic elemental forces  are said to\n              have simply come into being.{\" \"}\n              <span style={{ fontStyle: \"italic\", color: \"#808080\" }}>\n                Example: Ge is created without parents\n              </span>\n            </div>\n            <div\n              style={{\n                paddingBottom: \"20px\",\n                borderBottom: \"2px solid #DEDEDE\"\n              }}\n            >\n              <h3>\n                <img\n                  src={require(\"./images/createdByAgent.png\")}\n                  alt=\"created by agent\"\n                  style={{ maxWidth: \"2%\", height: \"auto\" }}\n                ></img>{\" \"}\n                Created By Someone Else\n              </h3>\n              Gods  and some notable heroes  are said to have created mortals.{\" \"}\n              <span style={{ fontStyle: \"italic\", color: \"#808080\" }}>\n                Example: Pandora is created by Hephaistos\n              </span>\n            </div>\n            <div\n              style={{\n                paddingBottom: \"20px\",\n                borderBottom: \"2px solid #DEDEDE\"\n              }}\n            >\n              <h3>\n                <img\n                  src={require(\"./images/bornFromObject.png\")}\n                  alt=\"born from an object\"\n                  style={{ maxWidth: \"2%\", height: \"auto\" }}\n                ></img>{\" \"}\n                Born from an Object\n              </h3>\n              Some gods and heroes were said to have been born in strange ways,\n              including from eggs, and from a body part of one of their parents.{\" \"}\n              <span style={{ fontStyle: \"italic\", color: \"#808080\" }}>\n                Example: Athena is born from the Head of Zeus, Pegasos is born\n                from the Head of Medousa\n              </span>\n            </div>\n            <div\n              style={{\n                paddingBottom: \"20px\",\n                borderBottom: \"2px solid #DEDEDE\"\n              }}\n            >\n              <h3>\n                <img\n                  src={require(\"./images/parthenogenesis.png\")}\n                  alt=\"parthenogenesis\"\n                  style={{ maxWidth: \"1%\", height: \"auto\" }}\n                ></img>{\" \"}\n                Parthenogenesis\n              </h3>\n              Some goddesses are said to have given birth to children without\n              having had sex. As a result, the offspring do not have fathers.{\" \"}\n              <span style={{ fontStyle: \"italic\", color: \"#808080\" }}>\n                Example: Hephaistos is the son of Hera by parthenogenesis\n              </span>\n            </div>\n            <div>\n              <h3>Contested parentage</h3>\n              Contestation is an inherent part of Greek myth. Because the\n              ancient mythic tradition was tolerant of plurality, there were\n              frequently several variant traditions about who the parents of a\n              god or hero were.\n            </div>\n          </Modal>\n          {/* <div style={{ marginLeft: \"3rem\" }}>\n            How to use the search tool:\n            <ol>\n              <li>Type the name of the entity requested in the field. </li>\n              <li>Click the entity that matches the request</li>\n              <li>\n                Press enter or click the arrow on the right of the search bar\n              </li>\n            </ol>\n            For information on how to use the data cards themselves, see this\n            page\n          </div> */}\n          <div style={{ paddingTop: \"4rem\", textAlign: \"center\" }}>\n            <Link to=\"/\">\n              <Header></Header>\n            </Link>\n          </div>\n\n          <Search></Search>\n\n          <Switch>\n            {/* <Route exact path=\"/\" component={Home} /> */}\n            <Route path=\"/search\" component={Search} />\n            <Route path=\"/datacards\" component={DataCards} />\n            <Route component={() => <Redirect to=\"/\" />} />\n          </Switch>\n          <div style={{ textAlign: \"center\" }}></div>\n        </Router>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/parthenogenesis.ae322018.png\";","module.exports = __webpack_public_path__ + \"static/media/arrow.1cd80763.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo.1740fffd.svg\";"],"sourceRoot":""}